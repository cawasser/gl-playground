shadow$provide.module$node_modules$flexlayout_react$lib$model$TabSetNode=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}extendStatics(d,
b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Attribute_1=require("module$node_modules$flexlayout_react$lib$Attribute"),AttributeDefinitions_1=require("module$node_modules$flexlayout_react$lib$AttributeDefinitions"),DockLocation_1=require("module$node_modules$flexlayout_react$lib$DockLocation"),DropInfo_1=require("module$node_modules$flexlayout_react$lib$DropInfo"),Orientation_1=require("module$node_modules$flexlayout_react$lib$Orientation"),
Rect_1=require("module$node_modules$flexlayout_react$lib$Rect");global=require("module$node_modules$flexlayout_react$lib$model$Node");var RowNode_1=require("module$node_modules$flexlayout_react$lib$model$RowNode"),TabNode_1=require("module$node_modules$flexlayout_react$lib$model$TabNode"),Utils_1=require("module$node_modules$flexlayout_react$lib$model$Utils");require=function(_super){function TabSetNode(model,json){var _this=_super.call(this,model)||this;TabSetNode._attributeDefinitions.fromJson(json,
_this._attributes);model._addNode(_this);_this.calculatedTabBarHeight=0;_this.calculatedHeaderBarHeight=0;return _this}__extends(TabSetNode,_super);TabSetNode._fromJson=function(json,model){var newLayoutNode=new TabSetNode(model,json);null!=json.children&&json.children.forEach(function(jsonChild){jsonChild=TabNode_1.default._fromJson(jsonChild,model);newLayoutNode._addChild(jsonChild)});json.maximized&&!0===json.maximized&&model._setMaximizedTabset(newLayoutNode);json.active&&!0===json.active&&model._setActiveTabset(newLayoutNode);
return newLayoutNode};TabSetNode._createAttributeDefinitions=function(){var attributeDefinitions=new AttributeDefinitions_1.default;attributeDefinitions.add("type",TabSetNode.TYPE,!0);attributeDefinitions.add("id",void 0).setType(Attribute_1.default.ID);attributeDefinitions.add("weight",100);attributeDefinitions.add("width",void 0);attributeDefinitions.add("height",void 0);attributeDefinitions.add("selected",0);attributeDefinitions.add("name",void 0).setType(Attribute_1.default.STRING);attributeDefinitions.addInherited("enableDeleteWhenEmpty",
"tabSetEnableDeleteWhenEmpty");attributeDefinitions.addInherited("enableDrop","tabSetEnableDrop");attributeDefinitions.addInherited("enableDrag","tabSetEnableDrag");attributeDefinitions.addInherited("enableDivide","tabSetEnableDivide");attributeDefinitions.addInherited("enableMaximize","tabSetEnableMaximize");attributeDefinitions.addInherited("classNameTabStrip","tabSetClassNameTabStrip");attributeDefinitions.addInherited("classNameHeader","tabSetClassNameHeader");attributeDefinitions.addInherited("enableTabStrip",
"tabSetEnableTabStrip");attributeDefinitions.addInherited("borderInsets","tabSetBorderInsets");attributeDefinitions.addInherited("marginInsets","tabSetMarginInsets");attributeDefinitions.addInherited("minWidth","tabSetMinWidth");attributeDefinitions.addInherited("minHeight","tabSetMinHeight");attributeDefinitions.addInherited("headerHeight","tabSetHeaderHeight");attributeDefinitions.addInherited("tabStripHeight","tabSetTabStripHeight");attributeDefinitions.addInherited("tabLocation","tabSetTabLocation");
attributeDefinitions.addInherited("autoSelectTab","tabSetAutoSelectTab").setType(Attribute_1.default.BOOLEAN);return attributeDefinitions};TabSetNode.prototype.getName=function(){return this._getAttributeAsStringOrUndefined("name")};TabSetNode.prototype.getSelected=function(){var selected=this._attributes.selected;return void 0!==selected?selected:-1};TabSetNode.prototype.getSelectedNode=function(){var selected=this.getSelected();if(-1!==selected)return this._children[selected]};TabSetNode.prototype.getWeight=
function(){return this._attributes.weight};TabSetNode.prototype.getWidth=function(){return this._getAttributeAsNumberOrUndefined("width")};TabSetNode.prototype.getMinWidth=function(){return this._getAttr("minWidth")};TabSetNode.prototype.getHeight=function(){return this._getAttributeAsNumberOrUndefined("height")};TabSetNode.prototype.getMinHeight=function(){return this._getAttr("minHeight")};TabSetNode.prototype.getMinSize=function(orientation){return orientation===Orientation_1.default.HORZ?this.getMinWidth():
this.getMinHeight()};TabSetNode.prototype.isMaximized=function(){return this._model.getMaximizedTabset()===this};TabSetNode.prototype.isActive=function(){return this._model.getActiveTabset()===this};TabSetNode.prototype.isEnableDeleteWhenEmpty=function(){return this._getAttr("enableDeleteWhenEmpty")};TabSetNode.prototype.isEnableDrop=function(){return this._getAttr("enableDrop")};TabSetNode.prototype.isEnableDrag=function(){return this._getAttr("enableDrag")};TabSetNode.prototype.isEnableDivide=function(){return this._getAttr("enableDivide")};
TabSetNode.prototype.isEnableMaximize=function(){return this._getAttr("enableMaximize")};TabSetNode.prototype.canMaximize=function(){return this.isEnableMaximize()?this.getModel().getMaximizedTabset()===this?!0:this.getParent()===this.getModel().getRoot()&&1===this.getModel().getRoot().getChildren().length?!1:!0:!1};TabSetNode.prototype.isEnableTabStrip=function(){return this._getAttr("enableTabStrip")};TabSetNode.prototype.isAutoSelectTab=function(){return this._getAttr("autoSelectTab")};TabSetNode.prototype.getClassNameTabStrip=
function(){return this._getAttributeAsStringOrUndefined("classNameTabStrip")};TabSetNode.prototype.getClassNameHeader=function(){return this._getAttributeAsStringOrUndefined("classNameHeader")};TabSetNode.prototype.calculateHeaderBarHeight=function(metrics){var headerBarHeight=this._getAttr("headerHeight");this.calculatedHeaderBarHeight=0!==headerBarHeight?headerBarHeight:metrics.headerBarSize};TabSetNode.prototype.calculateTabBarHeight=function(metrics){var tabBarHeight=this._getAttr("tabStripHeight");
this.calculatedTabBarHeight=0!==tabBarHeight?tabBarHeight:metrics.tabBarSize};TabSetNode.prototype.getHeaderHeight=function(){return this.calculatedHeaderBarHeight};TabSetNode.prototype.getTabStripHeight=function(){return this.calculatedTabBarHeight};TabSetNode.prototype.getTabLocation=function(){return this._getAttr("tabLocation")};TabSetNode.prototype._setWeight=function(weight){this._attributes.weight=weight};TabSetNode.prototype._setSelected=function(index){this._attributes.selected=index};TabSetNode.prototype.canDrop=
function(dragNode,x,y){if(dragNode===this){x=DockLocation_1.default.CENTER;var dropInfo=this._tabHeaderRect;dropInfo=new DropInfo_1.default(this,dropInfo,x,-1,"flexlayout__outline_rect")}else if(this._contentRect.contains(x,y))x=DockLocation_1.default.getLocation(this._contentRect,x,y),dropInfo=x.getDockRect(this._rect),dropInfo=new DropInfo_1.default(this,dropInfo,x,-1,"flexlayout__outline_rect");else if(0<this._children.length&&null!=this._tabHeaderRect&&this._tabHeaderRect.contains(x,y)){var child=
this._children[0];child=child.getTabRect();y=child.y;for(var h=child.height,p=this._tabHeaderRect.x,childCenter,i=0;i<this._children.length;i++){child=this._children[i];child=child.getTabRect();childCenter=child.x+child.width/2;if(x>=p&&x<childCenter){x=DockLocation_1.default.CENTER;dropInfo=new Rect_1.default(child.x-2,y,3,h);dropInfo=new DropInfo_1.default(this,dropInfo,x,i,"flexlayout__outline_rect");break}p=childCenter}null==dropInfo&&(x=DockLocation_1.default.CENTER,dropInfo=new Rect_1.default(child.getRight()-
2,y,3,h),dropInfo=new DropInfo_1.default(this,dropInfo,x,this._children.length,"flexlayout__outline_rect"))}if(dragNode._canDockInto(dragNode,dropInfo))return dropInfo};TabSetNode.prototype._layout=function(rect,metrics){var _this=this;this.calculateHeaderBarHeight(metrics);this.calculateTabBarHeight(metrics);this.isMaximized()&&(rect=this._model.getRoot().getRect());this._rect=rect=rect.removeInsets(this._getAttr("marginInsets"));rect=rect.removeInsets(this._getAttr("borderInsets"));var y=0,h=0;
void 0!==this.getName()&&(y+=this.calculatedHeaderBarHeight,h+=this.calculatedHeaderBarHeight);this.isEnableTabStrip()&&("top"===this.getTabLocation()?this._tabHeaderRect=new Rect_1.default(rect.x,rect.y+y,rect.width,this.calculatedTabBarHeight):this._tabHeaderRect=new Rect_1.default(rect.x,rect.y+rect.height-this.calculatedTabBarHeight,rect.width,this.calculatedTabBarHeight),h+=this.calculatedTabBarHeight,"top"===this.getTabLocation()&&(y+=this.calculatedTabBarHeight));this._contentRect=new Rect_1.default(rect.x,
rect.y+y,rect.width,rect.height-h);this._children.forEach(function(child,i){child._layout(_this._contentRect,metrics);child._setVisible(i===_this.getSelected())})};TabSetNode.prototype._remove=function(node){node=this._removeChild(node);this._model._tidy();Utils_1.adjustSelectedIndex(this,node)};TabSetNode.prototype.drop=function(dragNode,location,index,select){var _this=this;if(this!==dragNode){var dragParent=dragNode.getParent(),fromIndex=0;void 0!==dragParent&&(fromIndex=dragParent._removeChild(dragNode),
Utils_1.adjustSelectedIndex(dragParent,fromIndex));dragNode.getType()===TabNode_1.default.TYPE&&dragParent===this&&fromIndex<index&&0<index&&index--;if(location===DockLocation_1.default.CENTER){var insertPos_1=index;-1===insertPos_1&&(insertPos_1=this._children.length);dragNode.getType()===TabNode_1.default.TYPE?(this._addChild(dragNode,insertPos_1),(select||!1!==select&&this.isAutoSelectTab())&&this._setSelected(insertPos_1)):dragNode.getChildren().forEach(function(child,i){_this._addChild(child,
insertPos_1);insertPos_1++});this._model._setActiveTabset(this)}else index=void 0,dragNode instanceof TabNode_1.default?(index=new TabSetNode(this._model,{}),index._addChild(dragNode),dragParent=index):index=dragNode,dragNode=this._parent,dragParent=dragNode.getChildren().indexOf(this),dragNode.getOrientation()===location._orientation?(index._setWeight(this.getWeight()/2),this._setWeight(this.getWeight()/2),dragNode._addChild(index,dragParent+location._indexPlus)):(select=new RowNode_1.default(this._model,
{}),select._setWeight(this.getWeight()),select._addChild(this),this._setWeight(50),index._setWeight(50),select._addChild(index,location._indexPlus),dragNode._removeChild(this),dragNode._addChild(select,dragParent)),this._model._setActiveTabset(index);this._model._tidy()}};TabSetNode.prototype._toJson=function(){var json={};TabSetNode._attributeDefinitions.toJson(json,this._attributes);json.children=this._children.map(function(child){return child._toJson()});this.isActive()&&(json.active=!0);this.isMaximized()&&
(json.maximized=!0);return json};TabSetNode.prototype._updateAttrs=function(json){TabSetNode._attributeDefinitions.update(json,this._attributes)};TabSetNode.prototype._getAttributeDefinitions=function(){return TabSetNode._attributeDefinitions};TabSetNode.prototype._getPrefSize=function(orientation){var prefSize=this.getWidth();orientation===Orientation_1.default.VERT&&(prefSize=this.getHeight());return prefSize};TabSetNode.TYPE="tabset";TabSetNode._attributeDefinitions=TabSetNode._createAttributeDefinitions();
return TabSetNode}(global.default);exports.default=require}
//# sourceMappingURL=module$node_modules$flexlayout_react$lib$model$TabSetNode.js.map
