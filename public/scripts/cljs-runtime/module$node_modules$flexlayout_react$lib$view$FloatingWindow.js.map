{
"version":3,
"file":"module$node_modules$flexlayout_react$lib$view$FloatingWindow.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/flexlayout-react/lib/view/FloatingWindow.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$flexlayout_react$lib$view$FloatingWindow\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FloatingWindow = void 0;\nvar React = require(\"react\");\nvar react_dom_1 = require(\"react-dom\");\nvar Types_1 = require(\"../Types\");\n/** @hidden @internal */\nexports.FloatingWindow = function (props) {\n    var title = props.title, id = props.id, url = props.url, rect = props.rect, onCloseWindow = props.onCloseWindow, onSetWindow = props.onSetWindow, children = props.children;\n    var popoutWindow = React.useRef(null);\n    var _a = React.useState(undefined), content = _a[0], setContent = _a[1];\n    React.useLayoutEffect(function () {\n        var r = rect;\n        popoutWindow.current = window.open(url, id, \"left=\" + r.x + \",top=\" + r.y + \",width=\" + r.width + \",height=\" + r.height);\n        if (popoutWindow.current !== null) {\n            onSetWindow(id, popoutWindow.current);\n            // listen for parent unloading to remove all popouts\n            window.addEventListener(\"beforeunload\", function () {\n                if (popoutWindow.current) {\n                    popoutWindow.current.close();\n                    popoutWindow.current = null;\n                }\n            });\n            popoutWindow.current.addEventListener(\"load\", function () {\n                var popoutDocument = popoutWindow.current.document;\n                popoutDocument.title = title;\n                var popoutContent = popoutDocument.createElement(\"div\");\n                popoutContent.className = Types_1.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_CONTENT;\n                popoutDocument.body.appendChild(popoutContent);\n                copyStyles(popoutDocument).then(function () {\n                    setContent(popoutContent);\n                });\n                // listen for popout unloading (needs to be after load for safari)\n                popoutWindow.current.addEventListener(\"beforeunload\", function () {\n                    onCloseWindow(id);\n                });\n            });\n        }\n        else {\n            console.warn(\"Unable to open window \" + url);\n            onCloseWindow(id);\n        }\n        return function () {\n            // delay so refresh will close window\n            setTimeout(function () {\n                if (popoutWindow.current) {\n                    popoutWindow.current.close();\n                    popoutWindow.current = null;\n                }\n            }, 0);\n        };\n    }, []);\n    if (content !== undefined) {\n        return react_dom_1.createPortal(children, content);\n    }\n    else {\n        return null;\n    }\n};\n/** @hidden @internal */\nfunction copyStyles(doc) {\n    var head = doc.head;\n    var promises = [];\n    Array.from(window.document.styleSheets).forEach(function (styleSheet) {\n        if (styleSheet.href) {\n            // prefer links since they will keep paths to images etc\n            var styleElement_1 = doc.createElement(\"link\");\n            styleElement_1.type = styleSheet.type;\n            styleElement_1.rel = \"stylesheet\";\n            styleElement_1.href = styleSheet.href;\n            head.appendChild(styleElement_1);\n            promises.push(new Promise(function (resolve, reject) {\n                styleElement_1.onload = function () { return resolve(true); };\n            }));\n        }\n        else {\n            try {\n                var rules = styleSheet.cssRules;\n                var style_1 = doc.createElement(\"style\");\n                Array.from(rules).forEach(function (cssRule) {\n                    style_1.appendChild(doc.createTextNode(cssRule.cssText));\n                });\n                head.appendChild(style_1);\n            }\n            catch (e) {\n                // styleSheet.cssRules can thro security exception\n            }\n        }\n    });\n    return Promise.all(promises);\n}\n//# sourceMappingURL=FloatingWindow.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","copyStyles","doc","head","promises","Array","from","window","document","styleSheets","forEach","styleSheet","href","styleElement_1","createElement","type","rel","appendChild","push","Promise","resolve","reject","onload","styleElement_1.onload","rules","cssRules","style_1","cssRule","createTextNode","cssText","e","all","Object","defineProperty","value","FloatingWindow","React","react_dom_1","Types_1","exports.FloatingWindow","props","title","id","url","rect","onCloseWindow","onSetWindow","children","popoutWindow","useRef","_a","useState","undefined","content","setContent","useLayoutEffect","current","open","x","y","width","height","addEventListener","close","popoutDocument","popoutContent","className","CLASSES","FLEXLAYOUT__FLOATING_WINDOW_CONTENT","body","then","console","warn","setTimeout","createPortal"]
}
