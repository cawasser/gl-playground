shadow$provide.module$node_modules$golden_layout$dist$cjs$ts$controls$drag_source=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.DragSource=void 0;const config_1=require("module$node_modules$golden_layout$dist$cjs$ts$config$config"),internal_error_1=require("module$node_modules$golden_layout$dist$cjs$ts$errors$internal_error"),component_item_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$component_item"),ground_item_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$ground_item"),
drag_listener_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$drag_listener"),drag_proxy_1=require("module$node_modules$golden_layout$dist$cjs$ts$controls$drag_proxy");class DragSource{constructor(_layoutManager,_element,_extraAllowableChildTargets,_componentTypeOrFtn,_componentState,_title){this._layoutManager=_layoutManager;this._element=_element;this._extraAllowableChildTargets=_extraAllowableChildTargets;this._componentTypeOrFtn=_componentTypeOrFtn;this._componentState=_componentState;
this._title=_title;this._dragListener=null;this._dummyGroundContainer=document.createElement("div");this._dummyGroundContentItem=new ground_item_1.GroundItem(this._layoutManager,this._layoutManager.layoutConfig.root,this._dummyGroundContainer);this.createDragListener()}destroy(){this.removeDragListener()}createDragListener(){this.removeDragListener();this._dragListener=new drag_listener_1.DragListener(this._element,this._extraAllowableChildTargets);this._dragListener.on("dragStart",(x,y)=>this.onDragStart(x,
y));this._dragListener.on("dragStop",()=>this.onDragStop())}onDragStart(x,y){let componentState;if("function"===typeof this._componentTypeOrFtn){var title=this._componentTypeOrFtn();var componentType=title.type;componentState=title.state;title=title.title}else componentType=this._componentTypeOrFtn,componentState=this._componentState,title=this._title;componentType=config_1.ComponentItemConfig.resolve({type:"component",componentType,componentState,title});componentType=new component_item_1.ComponentItem(this._layoutManager,
componentType,this._dummyGroundContentItem);this._dummyGroundContentItem.contentItems.push(componentType);if(null===this._dragListener)throw new internal_error_1.UnexpectedNullError("DSODSD66746");x=new drag_proxy_1.DragProxy(x,y,this._dragListener,this._layoutManager,componentType,this._dummyGroundContentItem);y=this._layoutManager.transitionIndicator;if(null===y)throw new internal_error_1.UnexpectedNullError("DSODST66746");y.transitionElements(this._element,x.element)}onDragStop(){this.createDragListener()}removeDragListener(){null!==
this._dragListener&&(this._dragListener.destroy(),this._dragListener=null)}}exports.DragSource=DragSource}
//# sourceMappingURL=module$node_modules$golden_layout$dist$cjs$ts$controls$drag_source.js.map
