shadow$provide.module$node_modules$golden_layout$dist$cjs$ts$layout_manager=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.LayoutManager=void 0;const config_1=require("module$node_modules$golden_layout$dist$cjs$ts$config$config"),resolved_config_1=require("module$node_modules$golden_layout$dist$cjs$ts$config$resolved_config"),browser_popout_1=require("module$node_modules$golden_layout$dist$cjs$ts$controls$browser_popout"),drag_proxy_1=require("module$node_modules$golden_layout$dist$cjs$ts$controls$drag_proxy"),
drag_source_1=require("module$node_modules$golden_layout$dist$cjs$ts$controls$drag_source"),drop_target_indicator_1=require("module$node_modules$golden_layout$dist$cjs$ts$controls$drop_target_indicator"),transition_indicator_1=require("module$node_modules$golden_layout$dist$cjs$ts$controls$transition_indicator"),external_error_1=require("module$node_modules$golden_layout$dist$cjs$ts$errors$external_error"),internal_error_1=require("module$node_modules$golden_layout$dist$cjs$ts$errors$internal_error"),
component_item_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$component_item"),content_item_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$content_item"),ground_item_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$ground_item"),row_or_column_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$row_or_column"),stack_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$stack"),config_minifier_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$config_minifier");
global=require("module$node_modules$golden_layout$dist$cjs$ts$utils$event_emitter");const event_hub_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$event_hub"),i18n_strings_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$i18n_strings"),types_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$types"),utils_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$utils");class LayoutManager extends global.EventEmitter{constructor(parameters){super();this._isInitialised=
this._isFullPage=!1;this._groundItem=void 0;this._openPopouts=[];this._transitionIndicator=this._dropTargetIndicator=null;this._componentTypes={};this._itemAreas=[];this._maximisePlaceholder=LayoutManager.createMaximisePlaceElement(document);this._tabDropPlaceholder=LayoutManager.createTabDropPlaceholderElement(document);this._dragSources=[];this._updatingColumnsResponsive=!1;this._firstLoad=!0;this._eventHub=new event_hub_1.EventHub(this);this._height=this._width=null;this._windowResizeListener=
()=>this.processResizeWithDebounce();this._windowUnloadListener=()=>this.onUnload();this._maximisedStackBeforeDestroyedListener=ev=>this.cleanupBeforeMaximisedStackDestroyed(ev);let layoutConfig=parameters.layoutConfig;void 0===layoutConfig&&(layoutConfig=resolved_config_1.ResolvedLayoutConfig.createDefault());this.layoutConfig=layoutConfig;this.isSubWindow=parameters.isSubWindow;i18n_strings_1.I18nStrings.checkInitialise();config_minifier_1.ConfigMinifier.checkInitialise();void 0!==parameters.containerElement&&
(this._containerElement=parameters.containerElement)}get container(){return this._containerElement}get isInitialised(){return this._isInitialised}get groundItem(){return this._groundItem}get root(){return this._groundItem}get openPopouts(){return this._openPopouts}get dropTargetIndicator(){return this._dropTargetIndicator}get transitionIndicator(){return this._transitionIndicator}get width(){return this._width}get height(){return this._height}get eventHub(){return this._eventHub}get rootItem(){if(void 0===
this._groundItem)throw Error("Cannot access rootItem before init");if(0!==this._groundItem.contentItems.length)return this._groundItem.contentItems[0]}get focusedComponentItem(){return this._focusedComponentItem}get tabDropPlaceholder(){return this._tabDropPlaceholder}get maximisedStack(){return this._maximisedStack}destroy(){if(this._isInitialised){if(!0===this.layoutConfig.settings.closePopoutsOnUnload)for(let i=0;i<this._openPopouts.length;i++)this._openPopouts[i].close();this._isFullPage&&globalThis.removeEventListener("resize",
this._windowResizeListener);globalThis.removeEventListener("unload",this._windowUnloadListener);globalThis.removeEventListener("beforeunload",this._windowUnloadListener);void 0!==this._groundItem&&this._groundItem.destroy();this._tabDropPlaceholder.remove();null!==this._dropTargetIndicator&&this._dropTargetIndicator.destroy();null!==this._transitionIndicator&&this._transitionIndicator.destroy();this._eventHub.destroy();for(const dragSource of this._dragSources)dragSource.destroy();this._dragSources=
[];this.releaseComponentEvent=this.getComponentEvent=void 0;this._isInitialised=!1}}minifyConfig(config){return resolved_config_1.ResolvedLayoutConfig.minifyConfig(config)}unminifyConfig(config){return resolved_config_1.ResolvedLayoutConfig.unminifyConfig(config)}registerComponent(name,componentConstructorOrFactoryFtn){if("function"!==typeof componentConstructorOrFactoryFtn)throw new external_error_1.ApiError("registerComponent() componentConstructorOrFactoryFtn parameter is not a function");componentConstructorOrFactoryFtn.hasOwnProperty("prototype")?
this.registerComponentConstructor(name,componentConstructorOrFactoryFtn):this.registerComponentFactoryFunction(name,componentConstructorOrFactoryFtn)}registerComponentConstructor(typeName,componentConstructor){if("function"!==typeof componentConstructor)throw Error(i18n_strings_1.i18nStrings[1]);if(void 0!==this._componentTypes[typeName])throw Error(`${i18n_strings_1.i18nStrings[2]}: ${typeName}`);this._componentTypes[typeName]={constructor:componentConstructor,factoryFunction:void 0}}registerComponentFactoryFunction(typeName,
componentFactoryFunction){if("function"!==typeof componentFactoryFunction)throw Error("Please register a constructor function");if(void 0!==this._componentTypes[typeName])throw Error("Component "+typeName+" is already registered");this._componentTypes[typeName]={constructor:void 0,factoryFunction:componentFactoryFunction}}registerComponentFunction(callback){this.registerGetComponentConstructorCallback(callback)}registerGetComponentConstructorCallback(callback){if("function"!==typeof callback)throw Error("Please register a callback function");
void 0!==this._getComponentConstructorFtn&&console.warn("Multiple component functions are being registered.  Only the final registered function will be used.");this._getComponentConstructorFtn=callback}getRegisteredComponentTypeNames(){return Object.keys(this._componentTypes)}getComponentInstantiator(config){let instantiator;const typeName=resolved_config_1.ResolvedComponentItemConfig.resolveComponentTypeName(config);void 0!==typeName&&(instantiator=this._componentTypes[typeName]);void 0===instantiator&&
void 0!==this._getComponentConstructorFtn&&(instantiator={constructor:this._getComponentConstructorFtn(config),factoryFunction:void 0});return instantiator}getComponent(container,itemConfig){var instantiator,typeName=resolved_config_1.ResolvedComponentItemConfig.resolveComponentTypeName(itemConfig);void 0!==typeName&&(instantiator=this._componentTypes[typeName]);void 0===instantiator&&void 0!==this._getComponentConstructorFtn&&(instantiator={constructor:this._getComponentConstructorFtn(itemConfig),
factoryFunction:void 0});if(void 0!==instantiator)if(itemConfig=void 0===itemConfig.componentState?void 0:utils_1.deepExtendValue({},itemConfig.componentState),typeName=instantiator.constructor,void 0!==typeName)container=new typeName(container,itemConfig);else if(instantiator=instantiator.factoryFunction,void 0!==instantiator)container=instantiator(container,itemConfig);else throw new internal_error_1.AssertError("LMGC10008");else if(void 0!==this.getComponentEvent)container=this.getComponentEvent(container,
itemConfig);else throw Error();return container}releaseComponent(container,component){void 0!==this.releaseComponentEvent&&this.releaseComponentEvent(container,component)}init(){this.setContainer();this._dropTargetIndicator=new drop_target_indicator_1.DropTargetIndicator;this._transitionIndicator=new transition_indicator_1.TransitionIndicator;this.updateSizeFromContainer();this._groundItem=new ground_item_1.GroundItem(this,this.layoutConfig.root,this._containerElement);this._groundItem.init();this.checkLoadedLayoutMaximiseItem();
this.bindEvents();this._isInitialised=!0;this.adjustColumnsResponsive();this.emit("initialised")}loadLayout(layoutConfig){if(this.isInitialised){if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMLL11119");this.layoutConfig=config_1.LayoutConfig.resolve(layoutConfig);this._groundItem.loadRoot(this.layoutConfig.root);this.checkLoadedLayoutMaximiseItem();this.adjustColumnsResponsive()}else throw Error("GoldenLayout: Need to call init() if LayoutConfig with defined root passed to constructor");
}saveLayout(){if(!1===this._isInitialised)throw Error("Can't create config, layout not yet initialised");if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMTC18244");{var groundContent=this._groundItem.calculateConfigContent();groundContent=1!==groundContent.length?void 0:groundContent[0];this.reconcilePopoutWindows();const openPopouts=[];for(let i=0;i<this._openPopouts.length;i++)openPopouts.push(this._openPopouts[i].toConfig());return{root:groundContent,openPopouts,
settings:resolved_config_1.ResolvedLayoutConfig.Settings.createCopy(this.layoutConfig.settings),dimensions:resolved_config_1.ResolvedLayoutConfig.Dimensions.createCopy(this.layoutConfig.dimensions),header:resolved_config_1.ResolvedLayoutConfig.Header.createCopy(this.layoutConfig.header),resolved:!0}}}toConfig(){return this.saveLayout()}newComponent(componentType,componentState,title){componentType=this.newComponentAtLocation(componentType,componentState,title);if(void 0===componentType)throw new internal_error_1.AssertError("LMNC65588");
return componentType}newComponentAtLocation(componentType,componentState,title,locationSelectors){if(void 0===this._groundItem)throw Error("Cannot add component before init");componentType=this.addComponentAtLocation(componentType,componentState,title,locationSelectors);if(void 0!==componentType){componentType=componentType.parentItem.contentItems[componentType.index];if(content_item_1.ContentItem.isComponentItem(componentType))return componentType;throw new internal_error_1.AssertError("LMNC992877533");
}}addComponent(componentType,componentState,title){componentType=this.addComponentAtLocation(componentType,componentState,title);if(void 0===componentType)throw new internal_error_1.AssertError("LMAC99943");return componentType}addComponentAtLocation(componentType,componentState,title,locationSelectors){return this.addItemAtLocation({type:"component",componentType,componentState,title},locationSelectors)}newItem(itemConfig){itemConfig=this.newItemAtLocation(itemConfig);if(void 0===itemConfig)throw new internal_error_1.AssertError("LMNC65588");
return itemConfig}newItemAtLocation(itemConfig,locationSelectors){if(void 0===this._groundItem)throw Error("Cannot add component before init");itemConfig=this.addItemAtLocation(itemConfig,locationSelectors);if(void 0!==itemConfig)return itemConfig.parentItem.contentItems[itemConfig.index]}addItem(itemConfig){itemConfig=this.addItemAtLocation(itemConfig);if(void 0===itemConfig)throw new internal_error_1.AssertError("LMAI99943");return itemConfig}addItemAtLocation(itemConfig,locationSelectors){if(void 0===
this._groundItem)throw Error("Cannot add component before init");void 0===locationSelectors&&(locationSelectors=LayoutManager.defaultLocationSelectors);locationSelectors=this.findFirstLocation(locationSelectors);if(void 0!==locationSelectors){{let parentItem=locationSelectors.parentItem,addIdx;switch(parentItem.type){case types_1.ItemType.ground:addIdx=parentItem.addItem(itemConfig,locationSelectors.index);0<=addIdx?parentItem=this._groundItem.contentItems[0]:addIdx=0;break;case types_1.ItemType.row:case types_1.ItemType.column:addIdx=
parentItem.addItem(itemConfig,locationSelectors.index);break;case types_1.ItemType.stack:if(config_1.ItemConfig.isComponent(itemConfig)){addIdx=parentItem.addItem(itemConfig,locationSelectors.index);break}else throw Error(i18n_strings_1.i18nStrings[3]);case types_1.ItemType.component:throw new internal_error_1.AssertError("LMAIALC87444602");default:throw new internal_error_1.UnreachableCaseError("LMAIALU98881733",parentItem.type);}config_1.ItemConfig.isComponent(itemConfig)&&(itemConfig=parentItem.contentItems[addIdx],
content_item_1.ContentItem.isStack(itemConfig)&&(parentItem=itemConfig,addIdx=0));locationSelectors.parentItem=parentItem;locationSelectors.index=addIdx;return locationSelectors}}}loadComponentAsRoot(itemConfig){if(void 0===this._groundItem)throw Error("Cannot add item before init");this._groundItem.loadComponentAsRoot(itemConfig)}updateSize(width,height){this.setSize(width,height)}setSize(width$jscomp$0,height$jscomp$0){this._width=width$jscomp$0;this._height=height$jscomp$0;if(!0===this._isInitialised){if(void 0===
this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMUS18881");this._groundItem.setSize(this._width,this._height);if(this._maximisedStack){const {width,height}=utils_1.getElementWidthAndHeight(this._containerElement);utils_1.setElementWidth(this._maximisedStack.element,width);utils_1.setElementHeight(this._maximisedStack.element,height);this._maximisedStack.updateSize()}this.adjustColumnsResponsive()}}updateSizeFromContainer(){const {width,height}=utils_1.getElementWidthAndHeight(this._containerElement);
this.setSize(width,height)}updateRootSize(){if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMURS28881");this._groundItem.updateSize()}createAndInitContentItem(config,parent){config=this.createContentItem(config,parent);config.init();return config}createContentItem(config,parent){if("string"!==typeof config.type)throw new external_error_1.ConfigurationError("Missing parameter 'type'",JSON.stringify(config));!resolved_config_1.ResolvedItemConfig.isComponentItem(config)||
parent instanceof stack_1.Stack||!parent||!0===this.isSubWindow&&parent instanceof ground_item_1.GroundItem||(config={type:types_1.ItemType.stack,content:[config],width:config.width,minWidth:config.minWidth,height:config.height,minHeight:config.minHeight,id:config.id,maximised:config.maximised,isClosable:config.isClosable,activeItemIndex:0,header:void 0});return this.createContentItemFromConfig(config,parent)}findFirstComponentItemById(id){if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMFFCIBI82446");
return this.findFirstContentItemTypeByIdRecursive(types_1.ItemType.component,id,this._groundItem)}createPopout(itemConfigOrContentItem,positionAndSize,parentId,indexInParent){return itemConfigOrContentItem instanceof content_item_1.ContentItem?this.createPopoutFromContentItem(itemConfigOrContentItem,positionAndSize,parentId,indexInParent):this.createPopoutFromItemConfig(itemConfigOrContentItem,positionAndSize,parentId,indexInParent)}createPopoutFromContentItem(item,window,parentId,indexInParent){for(var parent=
item.parent,child=item;null!==parent&&1===parent.contentItems.length&&!parent.isGround;)child=parent,parent=parent.parent;if(null===parent)throw new internal_error_1.UnexpectedNullError("LMCPFCI00834");void 0===indexInParent&&(indexInParent=parent.contentItems.indexOf(child));null!==parentId&&parent.addPopInParentId(parentId);if(void 0===window){window=globalThis.screenX||globalThis.screenLeft;parent=globalThis.screenY||globalThis.screenTop;child=item.element.offsetLeft;const offsetTop=item.element.offsetTop,
{width,height}=utils_1.getElementWidthAndHeight(item.element);window={left:window+child,top:parent+offsetTop,width,height}}parent=item.toConfig();item.remove();if(resolved_config_1.ResolvedRootItemConfig.isRootItemConfig(parent))return this.createPopoutFromItemConfig(parent,window,parentId,indexInParent);throw Error(`${i18n_strings_1.i18nStrings[0]}`);}createPopoutFromItemConfig(rootItemConfig,window,parentId,indexInParent){const layoutConfig=this.toConfig();return this.createPopoutFromPopoutLayoutConfig({root:rootItemConfig,
openPopouts:[],settings:layoutConfig.settings,dimensions:layoutConfig.dimensions,header:layoutConfig.header,window,parentId,indexInParent,resolved:!0})}createPopoutFromPopoutLayoutConfig(config){var _a,_b,_c,_d,configWindow=config.window;configWindow={left:null!==(_a=configWindow.left)&&void 0!==_a?_a:globalThis.screenX||globalThis.screenLeft+20,top:null!==(_b=configWindow.top)&&void 0!==_b?_b:globalThis.screenY||globalThis.screenTop+20,width:null!==(_c=configWindow.width)&&void 0!==_c?_c:500,height:null!==
(_d=configWindow.height)&&void 0!==_d?_d:309};const browserPopout=new browser_popout_1.BrowserPopout(config,configWindow,this);browserPopout.on("initialised",()=>this.emit("windowOpened",browserPopout));browserPopout.on("closed",()=>this.reconcilePopoutWindows());this._openPopouts.push(browserPopout);return browserPopout}newDragSource(element,componentTypeOrFtn,componentState,title){element=new drag_source_1.DragSource(this,element,[],componentTypeOrFtn,componentState,title);this._dragSources.push(element);
return element}removeDragSource(dragSource){utils_1.removeFromArray(dragSource,this._dragSources);dragSource.destroy()}startComponentDrag(x,y,dragListener,componentItem,stack){new drag_proxy_1.DragProxy(x,y,dragListener,this,componentItem,stack)}focusComponent(item,suppressEvent=!1){item.focus(suppressEvent)}clearComponentFocus(suppressEvent=!1){this.setFocusedComponentItem(void 0,suppressEvent)}setFocusedComponentItem(item,suppressEvents=!1){if(item!==this._focusedComponentItem){let newFocusedParentItem;
void 0===item?void 0===newFocusedParentItem:newFocusedParentItem=item.parentItem;if(void 0!==this._focusedComponentItem){var oldFocusedItem=this._focusedComponentItem;this._focusedComponentItem=void 0;oldFocusedItem.setBlurred(suppressEvents);oldFocusedItem=oldFocusedItem.parentItem;newFocusedParentItem===oldFocusedItem?newFocusedParentItem=void 0:oldFocusedItem.setFocusedValue(!1)}void 0!==item&&(this._focusedComponentItem=item,item.setFocused(suppressEvents),void 0!==newFocusedParentItem&&newFocusedParentItem.setFocusedValue(!0))}}createContentItemFromConfig(config,
parent){switch(config.type){case types_1.ItemType.ground:throw new internal_error_1.AssertError("LMCCIFC68871");case types_1.ItemType.row:return new row_or_column_1.RowOrColumn(!1,this,config,parent);case types_1.ItemType.column:return new row_or_column_1.RowOrColumn(!0,this,config,parent);case types_1.ItemType.stack:return new stack_1.Stack(this,config,parent);case types_1.ItemType.component:return new component_item_1.ComponentItem(this,config,parent);default:throw new internal_error_1.UnreachableCaseError("CCC913564",
config.type,"Invalid Config Item type specified");}}setMaximisedStack(stack){void 0===stack?void 0!==this._maximisedStack&&this.processMinimiseMaximisedStack():stack!==this._maximisedStack&&(void 0!==this._maximisedStack&&this.processMinimiseMaximisedStack(),this.processMaximiseStack(stack))}checkMinimiseMaximisedStack(){void 0!==this._maximisedStack&&this._maximisedStack.minimise()}cleanupBeforeMaximisedStackDestroyed(event){null!==this._maximisedStack&&this._maximisedStack===event.target&&(this._maximisedStack.off("beforeItemDestroyed",
this._maximisedStackBeforeDestroyedListener),this._maximisedStack=void 0)}closeWindow(){globalThis.setTimeout(()=>globalThis.close(),1)}getArea(x,y){let matchingArea=null,smallestSurface=Infinity;for(let i=0;i<this._itemAreas.length;i++){const area=this._itemAreas[i];x>area.x1&&x<area.x2&&y>area.y1&&y<area.y2&&smallestSurface>area.surface&&(smallestSurface=area.surface,matchingArea=area)}return matchingArea}calculateItemAreas(){var allContentItems=this.getAllContentItems(),groundItem=this._groundItem;
if(void 0===groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMCIAR44365");if(1===allContentItems.length){allContentItems=groundItem.getElementArea();if(null===allContentItems)throw new internal_error_1.UnexpectedNullError("LMCIARA44365");this._itemAreas=[allContentItems]}else for(this._itemAreas=groundItem.contentItems[0].isStack?[]:groundItem.createSideAreas(),groundItem=0;groundItem<allContentItems.length;groundItem++){const stack=allContentItems[groundItem];if(content_item_1.ContentItem.isStack(stack)){var area=
stack.getArea();if(null!==area){this._itemAreas.push(area);area=stack.contentAreaDimensions;if(void 0===area)throw new internal_error_1.UnexpectedUndefinedError("LMCIASC45599");area=area.header.highlightArea;this._itemAreas.push({x1:area.x1,x2:area.x2,y1:area.y1,y2:area.y2,contentItem:stack,surface:(area.x2-area.x1)*(area.y2-area.y1)})}}}}checkLoadedLayoutMaximiseItem(){if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMCLLMI43432");var configMaximisedItems=this._groundItem.getConfigMaximisedItems();
if(0<configMaximisedItems.length){configMaximisedItems=configMaximisedItems[0];if(content_item_1.ContentItem.isComponentItem(configMaximisedItems)&&(configMaximisedItems=configMaximisedItems.parent,null===configMaximisedItems))throw new internal_error_1.UnexpectedNullError("LMXLLMI69999");if(content_item_1.ContentItem.isStack(configMaximisedItems))configMaximisedItems.maximise();else throw new internal_error_1.AssertError("LMCLLMI19993");}}processMaximiseStack(stack){this._maximisedStack=stack;stack.on("beforeItemDestroyed",
this._maximisedStackBeforeDestroyedListener);stack.element.classList.add("lm_maximised");stack.element.insertAdjacentElement("afterend",this._maximisePlaceholder);if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMMXI19993");{this._groundItem.element.prepend(stack.element);const {width,height}=utils_1.getElementWidthAndHeight(this._containerElement);utils_1.setElementWidth(stack.element,width);utils_1.setElementHeight(stack.element,height);stack.updateSize();stack.focusActiveContentItem();
this._maximisedStack.emit("maximised");this.emit("stateChanged")}}processMinimiseMaximisedStack(){if(void 0===this._maximisedStack)throw new internal_error_1.AssertError("LMMMS74422");{const stack=this._maximisedStack;if(null===stack.parent)throw new internal_error_1.UnexpectedNullError("LMMI13668");stack.element.classList.remove("lm_maximised");this._maximisePlaceholder.insertAdjacentElement("afterend",stack.element);this._maximisePlaceholder.remove();stack.parent.updateSize();this._maximisedStack=
void 0;stack.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener);stack.emit("minimised");this.emit("stateChanged")}}reconcilePopoutWindows(){const openPopouts=[];for(let i=0;i<this._openPopouts.length;i++)!1===this._openPopouts[i].getWindow().closed?openPopouts.push(this._openPopouts[i]):this.emit("windowClosed",this._openPopouts[i]);this._openPopouts.length!==openPopouts.length&&(this._openPopouts=openPopouts,this.emit("stateChanged"))}getAllContentItems(){if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMGACI13130");
return this._groundItem.getAllContentItems()}bindEvents(){this._isFullPage&&globalThis.addEventListener("resize",this._windowResizeListener,{passive:!0});globalThis.addEventListener("unload",this._windowUnloadListener,{passive:!0});globalThis.addEventListener("beforeunload",this._windowUnloadListener,{passive:!0})}processResizeWithDebounce(){void 0!==this._resizeTimeoutId&&clearTimeout(this._resizeTimeoutId);this._resizeTimeoutId=setTimeout(()=>this.updateSizeFromContainer(),100)}setContainer(){var _a;
const bodyElement=document.body,containerElement=null!==(_a=this._containerElement)&&void 0!==_a?_a:bodyElement;containerElement===bodyElement&&(this._isFullPage=!0,_a=document.documentElement,_a.style.height="100%",_a.style.margin="0",_a.style.padding="0",_a.style.overflow="hidden",bodyElement.style.height="100%",bodyElement.style.margin="0",bodyElement.style.padding="0",bodyElement.style.overflow="hidden");this._containerElement=containerElement}onUnload(){this.destroy()}adjustColumnsResponsive(){if(void 0===
this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMACR20883");this._firstLoad=!1;if(this.useResponsiveLayout()&&!this._updatingColumnsResponsive&&0<this._groundItem.contentItems.length&&this._groundItem.contentItems[0].isRow){if(void 0===this._groundItem||null===this._width)throw new internal_error_1.UnexpectedUndefinedError("LMACR77412");var columnCount=this._groundItem.contentItems[0].contentItems.length;if(!(1>=columnCount)){var minItemWidth=this.layoutConfig.dimensions.minItemWidth;
if(!(columnCount*minItemWidth<=this._width)){this._updatingColumnsResponsive=!0;columnCount-=Math.max(Math.floor(this._width/minItemWidth),1);minItemWidth=this._groundItem.contentItems[0];var allStacks=this.getAllStacks();if(0===allStacks.length)throw new internal_error_1.AssertError("LMACRS77413");allStacks=allStacks[0];for(let i=0;i<columnCount;i++)this.addChildContentItemsToContainer(allStacks,minItemWidth.contentItems[minItemWidth.contentItems.length-1]);this._updatingColumnsResponsive=!1}}}}useResponsiveLayout(){const settings=
this.layoutConfig.settings,onLoadResponsiveModeAndFirst=settings.responsiveMode===types_1.ResponsiveMode.onload&&this._firstLoad;return settings.responsiveMode===types_1.ResponsiveMode.always||onLoadResponsiveModeAndFirst}addChildContentItemsToContainer(container,node){const contentItems=node.contentItems;if(node instanceof stack_1.Stack)for(let i=0;i<contentItems.length;i++){const item=contentItems[i];node.removeChild(item,!0);container.addChild(item)}else for(node=0;node<contentItems.length;node++)this.addChildContentItemsToContainer(container,
contentItems[node])}getAllStacks(){if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMFASC52778");{const stacks=[];this.findAllStacksRecursive(stacks,this._groundItem);return stacks}}findFirstContentItemType(type){if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMFFCIT82446");return this.findFirstContentItemTypeRecursive(type,this._groundItem)}findFirstContentItemTypeRecursive(type,node){node=node.contentItems;const contentItemCount=
node.length;if(0!==contentItemCount){for(var i=0;i<contentItemCount;i++){var contentItem=node[i];if(contentItem.type===type)return contentItem}for(i=0;i<contentItemCount;i++)if(contentItem=this.findFirstContentItemTypeRecursive(type,node[i]),void 0!==contentItem)return contentItem}}findFirstContentItemTypeByIdRecursive(type,id,node){node=node.contentItems;const contentItemCount=node.length;if(0!==contentItemCount){for(var i=0;i<contentItemCount;i++){var contentItem=node[i];if(contentItem.type===type&&
contentItem.id===id)return contentItem}for(i=0;i<contentItemCount;i++)if(contentItem=this.findFirstContentItemTypeByIdRecursive(type,id,node[i]),void 0!==contentItem)return contentItem}}findAllStacksRecursive(stacks,node){node=node.contentItems;for(let i=0;i<node.length;i++){const item=node[i];item instanceof stack_1.Stack?stacks.push(item):item.isComponent||this.findAllStacksRecursive(stacks,item)}}findFirstLocation(selectors){const count=selectors.length;for(let i=0;i<count;i++){const location=
this.findLocation(selectors[i]);if(void 0!==location)return location}}findLocation(selector){var selectorIndex=selector.index;switch(selector.typeId){case 0:if(void 0===this._focusedComponentItem)break;{selector=this._focusedComponentItem.parentItem;const parentContentItems=selector.contentItems,parentContentItemCount=parentContentItems.length;if(void 0===selectorIndex)return{parentItem:selector,index:parentContentItemCount};selectorIndex=parentContentItems.indexOf(this._focusedComponentItem)+selectorIndex;
if(0>selectorIndex||selectorIndex>parentContentItemCount)break;return{parentItem:selector,index:selectorIndex}}case 1:if(void 0===this._focusedComponentItem)break;return this.tryCreateLocationFromParentItem(this._focusedComponentItem.parentItem,selectorIndex);case 2:selector=this.findFirstContentItemType(types_1.ItemType.stack);if(void 0===selector)break;return this.tryCreateLocationFromParentItem(selector,selectorIndex);case 3:selector=this.findFirstContentItemType(types_1.ItemType.row);if(void 0!==
selector)return this.tryCreateLocationFromParentItem(selector,selectorIndex);selector=this.findFirstContentItemType(types_1.ItemType.column);if(void 0!==selector)return this.tryCreateLocationFromParentItem(selector,selectorIndex);break;case 4:selector=this.findFirstContentItemType(types_1.ItemType.row);if(void 0===selector)break;return this.tryCreateLocationFromParentItem(selector,selectorIndex);case 5:selector=this.findFirstContentItemType(types_1.ItemType.column);if(void 0===selector)break;return this.tryCreateLocationFromParentItem(selector,
selectorIndex);case 6:if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMFLRIF18244");if(void 0!==this.rootItem)break;if(void 0===selectorIndex||0===selectorIndex)return{parentItem:this._groundItem,index:0};break;case 7:if(void 0===this._groundItem)throw new internal_error_1.UnexpectedUndefinedError("LMFLF18244");selector=this._groundItem.contentItems;if(0===selector.length){if(void 0===selectorIndex||0===selectorIndex)return{parentItem:this._groundItem,index:0}}else return this.tryCreateLocationFromParentItem(selector[0],
selectorIndex)}}tryCreateLocationFromParentItem(parentItem,selectorIndex){const parentContentItemCount=parentItem.contentItems.length;if(void 0===selectorIndex)return{parentItem,index:parentContentItemCount};if(!(0>selectorIndex||selectorIndex>parentContentItemCount))return{parentItem,index:selectorIndex}}}exports.LayoutManager=LayoutManager;(function(LayoutManager){LayoutManager.createMaximisePlaceElement=function(document){document=document.createElement("div");document.classList.add("lm_maximise_place");
return document};LayoutManager.createTabDropPlaceholderElement=function(document){document=document.createElement("div");document.classList.add("lm_drop_tab_placeholder");return document};LayoutManager.defaultLocationSelectors=[{typeId:1,index:void 0},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}];LayoutManager.afterFocusedItemIfPossibleLocationSelectors=[{typeId:0,index:1},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}]})(LayoutManager=exports.LayoutManager||
(exports.LayoutManager={}))}
//# sourceMappingURL=module$node_modules$golden_layout$dist$cjs$ts$layout_manager.js.map
