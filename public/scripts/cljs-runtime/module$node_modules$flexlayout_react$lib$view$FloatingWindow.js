shadow$provide.module$node_modules$flexlayout_react$lib$view$FloatingWindow=function(global,require,module,exports){function copyStyles(doc){var head=doc.head,promises=[];Array.from(window.document.styleSheets).forEach(function(styleSheet){if(styleSheet.href){var styleElement_1=doc.createElement("link");styleElement_1.type=styleSheet.type;styleElement_1.rel="stylesheet";styleElement_1.href=styleSheet.href;head.appendChild(styleElement_1);promises.push(new Promise(function(resolve,reject){styleElement_1.onload=
function(){return resolve(!0)}}))}else try{var rules=styleSheet.cssRules,style_1=doc.createElement("style");Array.from(rules).forEach(function(cssRule){style_1.appendChild(doc.createTextNode(cssRule.cssText))});head.appendChild(style_1)}catch(e){}});return Promise.all(promises)}Object.defineProperty(exports,"__esModule",{value:!0});exports.FloatingWindow=void 0;var React=require("module$node_modules$react$index"),react_dom_1=require("module$node_modules$react_dom$index"),Types_1=require("module$node_modules$flexlayout_react$lib$Types");
exports.FloatingWindow=function(props){var title=props.title,id=props.id,url=props.url,rect=props.rect,onCloseWindow=props.onCloseWindow,onSetWindow=props.onSetWindow;props=props.children;var popoutWindow=React.useRef(null),_a=React.useState(void 0),content=_a[0],setContent=_a[1];React.useLayoutEffect(function(){popoutWindow.current=window.open(url,id,"left\x3d"+rect.x+",top\x3d"+rect.y+",width\x3d"+rect.width+",height\x3d"+rect.height);null!==popoutWindow.current?(onSetWindow(id,popoutWindow.current),
window.addEventListener("beforeunload",function(){popoutWindow.current&&(popoutWindow.current.close(),popoutWindow.current=null)}),popoutWindow.current.addEventListener("load",function(){var popoutDocument=popoutWindow.current.document;popoutDocument.title=title;var popoutContent=popoutDocument.createElement("div");popoutContent.className=Types_1.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_CONTENT;popoutDocument.body.appendChild(popoutContent);copyStyles(popoutDocument).then(function(){setContent(popoutContent)});
popoutWindow.current.addEventListener("beforeunload",function(){onCloseWindow(id)})})):(console.warn("Unable to open window "+url),onCloseWindow(id));return function(){setTimeout(function(){popoutWindow.current&&(popoutWindow.current.close(),popoutWindow.current=null)},0)}},[]);return void 0!==content?react_dom_1.createPortal(props,content):null}}
//# sourceMappingURL=module$node_modules$flexlayout_react$lib$view$FloatingWindow.js.map
