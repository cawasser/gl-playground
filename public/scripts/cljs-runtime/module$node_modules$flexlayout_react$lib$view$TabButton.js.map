{
"version":3,
"file":"module$node_modules$flexlayout_react$lib$view$TabButton.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/flexlayout-react/lib/view/TabButton.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$flexlayout_react$lib$view$TabButton\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TabButton = void 0;\nvar React = require(\"react\");\nvar I18nLabel_1 = require(\"../I18nLabel\");\nvar Actions_1 = require(\"../model/Actions\");\nvar Rect_1 = require(\"../Rect\");\nvar ICloseType_1 = require(\"../model/ICloseType\");\nvar Types_1 = require(\"../Types\");\n/** @hidden @internal */\nexports.TabButton = function (props) {\n    var layout = props.layout, node = props.node, show = props.show, selected = props.selected, iconFactory = props.iconFactory, titleFactory = props.titleFactory, icons = props.icons;\n    var selfRef = React.useRef(null);\n    var contentRef = React.useRef(null);\n    var contentWidth = React.useRef(0);\n    var _a = React.useState(false), editing = _a[0], setEditing = _a[1];\n    var onMouseDown = function (event) {\n        var message = layout.i18nName(I18nLabel_1.I18nLabel.Move_Tab, node.getName());\n        layout.dragStart(event, message, node, node.isEnableDrag(), onClick, onDoubleClick);\n    };\n    var onClick = function () {\n        layout.doAction(Actions_1.default.selectTab(node.getId()));\n    };\n    var onDoubleClick = function (event) {\n        if (node.isEnableRename()) {\n            setEditing(true);\n            layout.getCurrentDocument().body.addEventListener(\"mousedown\", onEndEdit);\n            layout.getCurrentDocument().body.addEventListener(\"touchstart\", onEndEdit);\n        }\n        // else {\n        //     const parentNode = node.getParent() as TabSetNode;\n        //     if (parentNode.canMaximize()) {\n        //         layout.maximize(parentNode);\n        //     }\n        // }\n    };\n    var onEndEdit = function (event) {\n        if (event.target !== contentRef.current) {\n            setEditing(false);\n            layout.getCurrentDocument().body.removeEventListener(\"mousedown\", onEndEdit);\n            layout.getCurrentDocument().body.removeEventListener(\"touchstart\", onEndEdit);\n        }\n    };\n    var isClosable = function () {\n        var closeType = node.getCloseType();\n        if (selected || closeType === ICloseType_1.ICloseType.Always) {\n            return true;\n        }\n        if (closeType === ICloseType_1.ICloseType.Visible) {\n            // not selected but x should be visible due to hover\n            if (window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches) {\n                return true;\n            }\n        }\n        return false;\n    };\n    var onClose = function (event) {\n        if (isClosable()) {\n            layout.doAction(Actions_1.default.deleteTab(node.getId()));\n        }\n        else {\n            onClick();\n        }\n    };\n    var onCloseMouseDown = function (event) {\n        event.stopPropagation();\n    };\n    React.useLayoutEffect(function () {\n        updateRect();\n        if (editing) {\n            contentRef.current.select();\n        }\n    });\n    var updateRect = function () {\n        // record position of tab in node\n        var layoutRect = layout.getDomRect();\n        var r = selfRef.current.getBoundingClientRect();\n        node._setTabRect(new Rect_1.default(r.left - layoutRect.left, r.top - layoutRect.top, r.width, r.height));\n        contentWidth.current = contentRef.current.getBoundingClientRect().width;\n    };\n    var onTextBoxMouseDown = function (event) {\n        // console.log(\"onTextBoxMouseDown\");\n        event.stopPropagation();\n    };\n    var onTextBoxKeyPress = function (event) {\n        // console.log(event, event.keyCode);\n        if (event.keyCode === 27) {\n            // esc\n            setEditing(false);\n        }\n        else if (event.keyCode === 13) {\n            // enter\n            setEditing(false);\n            layout.doAction(Actions_1.default.renameTab(node.getId(), event.target.value));\n        }\n    };\n    var cm = layout.getClassName;\n    var parentNode = node.getParent();\n    var baseClassName = Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON;\n    var classNames = cm(baseClassName);\n    classNames += \" \" + cm(baseClassName + \"_\" + parentNode.getTabLocation());\n    if (selected) {\n        classNames += \" \" + cm(baseClassName + \"--selected\");\n    }\n    else {\n        classNames += \" \" + cm(baseClassName + \"--unselected\");\n    }\n    if (node.getClassName() !== undefined) {\n        classNames += \" \" + node.getClassName();\n    }\n    var leadingContent = iconFactory ? iconFactory(node) : undefined;\n    var titleContent = (titleFactory ? titleFactory(node) : undefined) || node.getName();\n    if (typeof leadingContent === undefined && typeof node.getIcon() !== undefined) {\n        leadingContent = React.createElement(\"img\", { src: node.getIcon(), alt: \"leadingContent\" });\n    }\n    var name = node.getName();\n    var buttons = [];\n    // allow customization of leading contents (icon) and contents\n    var renderState = { leading: leadingContent, content: titleContent, name: name, buttons: buttons };\n    layout.customizeTab(node, renderState);\n    node._setRenderedName(renderState.name);\n    var content = (React.createElement(\"div\", { ref: contentRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT) }, renderState.content));\n    var leading = React.createElement(\"div\", { className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING) }, renderState.leading);\n    if (editing) {\n        var contentStyle = { width: contentWidth + \"px\" };\n        content = (React.createElement(\"input\", { style: contentStyle, ref: contentRef, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX), type: \"text\", autoFocus: true, defaultValue: node.getName(), onKeyDown: onTextBoxKeyPress, onMouseDown: onTextBoxMouseDown, onTouchStart: onTextBoxMouseDown }));\n    }\n    if (node.isEnableClose()) {\n        var closeTitle = layout.i18nName(I18nLabel_1.I18nLabel.Close_Tab);\n        buttons.push(React.createElement(\"div\", { key: \"close\", title: closeTitle, className: cm(Types_1.CLASSES.FLEXLAYOUT__TAB_BUTTON_TRAILING), onMouseDown: onCloseMouseDown, onClick: onClose, onTouchStart: onCloseMouseDown }, icons === null || icons === void 0 ? void 0 : icons.close));\n    }\n    return (React.createElement(\"div\", { ref: selfRef, style: {\n            visibility: show ? \"visible\" : \"hidden\",\n        }, className: classNames, onMouseDown: onMouseDown, onTouchStart: onMouseDown },\n        leading,\n        content,\n        buttons));\n};\n//# sourceMappingURL=TabButton.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","TabButton","React","I18nLabel_1","Actions_1","Rect_1","ICloseType_1","Types_1","exports.TabButton","props","layout","node","show","selected","iconFactory","titleFactory","icons","selfRef","useRef","contentRef","contentWidth","_a","useState","editing","setEditing","onMouseDown","event","message","i18nName","I18nLabel","Move_Tab","getName","dragStart","isEnableDrag","onClick","onDoubleClick","doAction","default","selectTab","getId","isEnableRename","getCurrentDocument","body","addEventListener","onEndEdit","target","current","removeEventListener","onClose","closeType","getCloseType","ICloseType","Always","Visible","window","matchMedia","matches","deleteTab","onCloseMouseDown","stopPropagation","useLayoutEffect","layoutRect","getDomRect","r","getBoundingClientRect","_setTabRect","left","top","width","height","select","onTextBoxMouseDown","onTextBoxKeyPress","keyCode","renameTab","cm","getClassName","parentNode","getParent","baseClassName","CLASSES","FLEXLAYOUT__TAB_BUTTON","classNames","getTabLocation","undefined","leadingContent","titleContent","name","buttons","renderState","leading","content","customizeTab","_setRenderedName","createElement","ref","className","FLEXLAYOUT__TAB_BUTTON_CONTENT","FLEXLAYOUT__TAB_BUTTON_LEADING","style","contentStyle","FLEXLAYOUT__TAB_BUTTON_TEXTBOX","type","autoFocus","defaultValue","onKeyDown","onTouchStart","isEnableClose","closeTitle","Close_Tab","push","key","title","FLEXLAYOUT__TAB_BUTTON_TRAILING","close","visibility"]
}
