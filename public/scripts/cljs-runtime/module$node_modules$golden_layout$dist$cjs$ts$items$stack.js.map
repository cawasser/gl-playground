{
"version":3,
"file":"module$node_modules$golden_layout$dist$cjs$ts$items$stack.js",
"lineCount":40,
"mappings":"AAAAA,cAAA,0DAAA,CAA8E,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAEtHC,MAAAC,eAAA,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAAEG,MAAO,CAAA,CAAT,CAA7C,CACAH,QAAAI,MAAA,CAAgB,IAAK,EACrB,OAAMC,SAAWP,OAAA,CAAQ,6DAAR,CAAjB,CACMQ,kBAAoBR,OAAA,CAAQ,sEAAR,CAD1B,CAEMS,SAAWT,OAAA,CAAQ,+DAAR,CAFjB,CAGMU,iBAAmBV,OAAA,CAAQ,qEAAR,CAHzB;AAIMW,gBAAkBX,OAAA,CAAQ,mEAAR,CAJxB,CAKMY,gBAAkBZ,OAAA,CAAQ,mEAAR,CALxB,CAMMa,QAAUb,OAAA,CAAQ,2DAAR,CANhB,CAOMc,QAAUd,OAAA,CAAQ,2DAAR,CAPhB,CAQMe,iBAAmBf,OAAA,CAAQ,oEAAR,CACnBgB,OAAAA,CAA8BhB,OAAA,CAAQ,+EAAR,CACpC;MAAMiB,eAAiBjB,OAAA,CAAQ,kEAAR,CAEvB,MAAMM,MAAN,QAAoBU,OAAAE,wBAApB,CAEI,WAAW,CAACC,aAAD,CAAgBC,MAAhB,CAEXC,YAFW,CAEG,CAAA,IACNC,EADM,CACFC,EADE,CACEC,EADF,CACMC,EADN,CACUC,EADV,CACcC,EADd,CACkBC,EADlB,CACsBC,EADtB,CAC0BC,EAD1B,CAC8BC,EAD9B,CACkCC,EADlC,CACsCC,EADtC,CAC0CC,EAD1C,CAC8CC,EAD9C,CACkDC,EADlD,CACsDC,EADtD,CAC0DC,EAD1D,CAC8DC,EAD9D,CACkEC,EADlE,CACsEC,EADtE,CAC0EC,EAD1E,CAC8EC,EACxF,MAAA,CAAMxB,aAAN,CAAqBC,MAArB,CAA6BC,YAA7B,CAA2Cf,KAAAsC,cAAA,CAAoBC,QAApB,CAA3C,CACA,KAAAxB,aAAA,CAAoBA,YAEpB,KAAAyB,mBAAA,CAA0B,CAAA,CAE1B,KAAAC,gCAAA,CAAuC,EAAAC,EAAM,IAAAC,oBAAA,EAE7C,KAAAC,gCAAA,CAAuC,EAAAC;AAAM,IAAAC,oBAAA,EAE7C,KAAAC,gBAAA,CAAuB,EAAAC,EAAM,IAAAC,aAAA,EAE7B,KAAAC,mBAAA,CAA0B,EAAAC,EAAM,IAAAC,gBAAA,EAEhC,KAAAC,mBAAA,CAA0B,EAAAC,EAAM,IAAAC,gBAAA,EAChC,KAAAC,cAAA,CAAqB1C,MAAA2C,OACfC,aAAAA,CAAqB7C,aAAA8C,aAAAF,OAC3B,KAAMG,cAAgB9C,MAAA+C,QAIlBC,cAAA,CADyB,CAA7B,GAAIF,aAAAG,OAAJ,CAC4BC,IAAAA,EAD5B,CAIiCJ,aAAAK,CAAc,CAAdA,CACLR,OAE5B,KAAAS,qBAAA,CAA4BpD,MAAAqD,UAC5B,KAAAC,wBAAA,CAAiE,IAAlC,IAACpD,EAAD,CAAMF,MAAAuD,gBAAN,GAAiD,IAAK,EAAtD,GAA0CrD,EAA1C,CAA0DA,EAA1D,CAA+D,CAExFsD,GAAAA,CAA0O,IAAnO,IAACnD,EAAD,CAAwF,IAAlF;CAACD,EAAD,CAAoC,IAA9B,IAACD,EAAD,CAAM,IAAAuC,cAAN,GAA6C,IAAK,EAAlD,GAAsCvC,EAAtC,CAAsD,IAAK,EAA3D,CAA+DA,EAAAqD,KAArE,GAAiG,IAAK,EAAtG,GAA0FpD,EAA1F,CAA0GA,EAA1G,CAAyI,IAA1B,GAAA4C,aAAA,EAA4D,IAAK,EAAjE,GAAkCA,aAAlC,CAAqE,IAAK,EAA1E,CAA8EA,aAAAQ,KAAnM,GAAkP,IAAK,EAAvP,GAA2OnD,EAA3O,CAA2PA,EAA3P,CAAgQuC,YAAAY,KACvQC,GAAAA,CAAgP,IAAvO,IAACjD,EAAD,CAA0F,IAApF,IAACD,EAAD,CAAoC,IAA9B,IAACD,EAAD,CAAM,IAAAoC,cAAN,GAA6C,IAAK,EAAlD,GAAsCpC,EAAtC,CAAsD,IAAK,EAA3D,CAA+DA,EAAAmD,OAArE,GAAmG,IAAK,EAAxG,GAA4FlD,EAA5F,CAA4GA,EAA5G,CAA2I,IAA1B,GAAAyC,aAAA,EAA4D,IAAK,EAAjE,GAAkCA,aAAlC,CAAqE,IAAK,EAA1E,CAA8EA,aAAAS,OAArM,GAAsP,IAAK,EAA3P,GAA+OjD,EAA/O,CAA+PA,EAA/P,CAAoQoC,YAAAa,OAC7QC,GAAAA,CAA0O,IAAnO,IAAC/C,EAAD,CAAwF,IAAlF,IAACD,EAAD,CAAoC,IAA9B,IAACD,EAAD,CAAM,IAAAiC,cAAN,GAA6C,IAAK,EAAlD,GAAsCjC,EAAtC,CAAsD,IAAK,EAA3D,CAA+DA,EAAAiD,KAArE,GAAiG,IAAK,EAAtG,GAA0FhD,EAA1F,CAA0GA,EAA1G,CAAyI,IAA1B;AAAAsC,aAAA,EAA4D,IAAK,EAAjE,GAAkCA,aAAlC,CAAqE,IAAK,EAA1E,CAA8EA,aAAAU,KAAnM,GAAkP,IAAK,EAAvP,GAA2O/C,EAA3O,CAA2PA,EAA3P,CAAgQiC,YAAAc,KACvQC,GAAAA,CAAsP,IAA3O,IAAC7C,EAAD,CAA4F,IAAtF,IAACD,EAAD,CAAoC,IAA9B,IAACD,EAAD,CAAM,IAAA8B,cAAN,GAA6C,IAAK,EAAlD,GAAsC9B,EAAtC,CAAsD,IAAK,EAA3D,CAA+DA,EAAA+C,SAArE,GAAqG,IAAK,EAA1G,GAA8F9C,EAA9F,CAA8GA,EAA9G,CAA6I,IAA1B,GAAAmC,aAAA,EAA4D,IAAK,EAAjE,GAAkCA,aAAlC,CAAqE,IAAK,EAA1E,CAA8EA,aAAAW,SAAvM,GAA0P,IAAK,EAA/P,GAAmP7C,EAAnP,CAAmQA,EAAnQ,CAAwQ8B,YAAAe,SACnRC,GAAAA,CAA6O,IAArO,IAAC3C,EAAD,CAAyF,IAAnF,IAACD,EAAD,CAAoC,IAA9B,IAACD,EAAD,CAAM,IAAA2B,cAAN,GAA6C,IAAK,EAAlD,GAAsC3B,EAAtC,CAAsD,IAAK,EAA3D,CAA+DA,EAAA6C,MAArE,GAAkG,IAAK,EAAvG,GAA2F5C,EAA3F,CAA2GA,EAA3G,CAA0I,IAA1B,GAAAgC,aAAA,EAA4D,IAAK,EAAjE,GAAkCA,aAAlC,CAAqE,IAAK,EAA1E,CAA8EA,aAAAY,MAApM,GAAoP,IAAK,EAAzP;AAA6O3C,EAA7O,CAA6PA,EAA7P,CAAkQ2B,YAAAgB,MAC1QC,GAAAA,CAAsP,IAA3O,IAACzC,EAAD,CAA4F,IAAtF,IAACD,EAAD,CAAoC,IAA9B,IAACD,EAAD,CAAM,IAAAwB,cAAN,GAA6C,IAAK,EAAlD,GAAsCxB,EAAtC,CAAsD,IAAK,EAA3D,CAA+DA,EAAA2C,SAArE,GAAqG,IAAK,EAA1G,GAA8F1C,EAA9F,CAA8GA,EAA9G,CAA6I,IAA1B,GAAA6B,aAAA,EAA4D,IAAK,EAAjE,GAAkCA,aAAlC,CAAqE,IAAK,EAA1E,CAA8EA,aAAAa,SAAvM,GAA0P,IAAK,EAA/P,GAAmPzC,EAAnP,CAAmQA,EAAnQ,CAAwQwB,YAAAiB,SACnRC,GAAAA,CAA+P,IAAjP,IAACvC,EAAD,CAA+F,IAAzF,IAACD,EAAD,CAAoC,IAA9B,IAACD,EAAD,CAAM,IAAAqB,cAAN,GAA6C,IAAK,EAAlD,GAAsCrB,EAAtC,CAAsD,IAAK,EAA3D,CAA+DA,EAAAyC,YAArE,GAAwG,IAAK,EAA7G,GAAiGxC,EAAjG,CAAiHA,EAAjH,CAAgJ,IAA1B,GAAA0B,aAAA,EAA4D,IAAK,EAAjE,GAAkCA,aAAlC,CAAqE,IAAK,EAA1E,CAA8EA,aAAAc,YAA1M,GAAgQ,IAAK,EAArQ,GAAyPvC,EAAzP,CAAyQA,EAAzQ,CAA8QqB,YAAAkB,YAClS,KAAAC,kBAAA,CAAsC,CAAA,CAAtC,GAAyBJ,EAiBzB;IAAAK,QAAA,CAAe,IAAI3E,QAAA4E,OAAJ,CAAoBlE,aAApB,CAAmC,IAAnC,CAhBQmE,CACnBV,KAAe,CAAA,CAAfA,GAAMA,EADaU,CAEnBC,KAAe,CAAA,CAAT,GAAAX,EAAA,CAAiB/D,OAAA2E,KAAAC,IAAjB,CAAoCb,EAFvBU,CAGnBI,cAA0B,CAAA,CAA1BA,GAAeb,EAHIS,CAInBK,YAAwB,CAAA,CAAX,GAAAd,EAAA,CAAmB,EAAnB,CAAwBA,EAJlBS,CAKnBM,YAAsB,CAAA,CAAtBA,GAAad,EALMQ,CAMnBO,UAAoB,CAAA,CAAT,GAAAf,EAAA,CAAiB,EAAjB,CAAsBA,EANdQ,CAOnBQ,gBAAiB,IAAAX,kBAPEG,CAQnBS,cAA4B,CAAA,CAAb,GAAAhB,EAAA,CAAqB,EAArB,CAA0BA,EARtBO,CASnBU,aAAwB,CAAA,CAAxBA,GAAchB,EATKM,CAUnBW,WAAsB,CAAA,CAAV,GAAAjB,EAAA,CAAkB,EAAlB,CAAuBA,EAVhBM,CAWnBY,gBAAiB,CAAA,CAXEZ,CAYnBa,cAAelB,EAZIK,CAanBc,mBAAoC,CAAA,CAApCA,GAAoBlB,EAbDI,CAcnBe,iBAAkC,CAAA,CAAhB,GAAAnB,EAAA,CAAwB,EAAxB,CAA6BA,EAd5BI,CAgBR,CAAyDlE,MAAAkF,WAAzD,EAAwF,CAAA,CAAxF,GAA8EtB,EAA9E,CAA+F,EAAA,EAAM,IAAAuB,uBAAA,EAArG,CAAoI,EAAA,EAAM,IAAAC,OAAA,EAA1I,CAAyJ,EAAA,EAAM,IAAAC,gBAAA,EAA/J;AAAuL,EAAA,EAAM,IAAAC,kBAAA,EAA7L,CAAuN,EAAA,EAAM,IAAAC,eAAA,EAA7N,CAAqPC,EAAD,EAAQ,IAAAC,uBAAA,CAA4BD,EAA5B,CAA5P,CAA8RA,EAAD,EAAQ,IAAAE,4BAAA,CAAiCF,EAAjC,CAArS,CAA4UG,IAAD,EAAU,IAAAC,iCAAA,CAAsCD,IAAtC,CAArV,CAAmYA,IAAD,EAAU,IAAAE,gCAAA,CAAqCF,IAArC,CAA5Y,CAAwb,CAACG,CAAD,CAAIC,CAAJ,CAAOC,YAAP,CAAqBL,IAArB,CAAA,EAA8B,IAAAM,oCAAA,CAAyCH,CAAzC,CAA4CC,CAA5C,CAA+CC,YAA/C,CAA6DL,IAA7D,CAAtd,CAEf,KAAAO,QAAA,CAAe,CAAA,CACf,KAAAC,uBAAA,CAA8B1E,QAAAD,cAAA,CAAuB,SAAvB,CAC9B,KAAA2E,uBAAAC,UAAAC,IAAA,CAA0C,UAA1C,CACA,KAAAC,GAAA,CAAQ,QAAR,CAAkB,IAAArE,gBAAlB,CACI,KAAA8B,kBAAJ;CACI,IAAAuC,GAAA,CAAQ,WAAR,CAAqB,IAAAlE,mBAArB,CACA,CAAA,IAAAkE,GAAA,CAAQ,WAAR,CAAqB,IAAA/D,mBAArB,CAFJ,CAIA,KAAAgE,QAAAC,iBAAA,CAA8B,YAA9B,CAA4C,IAAA7E,gCAA5C,CAAkF,CAAE8E,QAAS,CAAA,CAAX,CAAlF,CACA,KAAAF,QAAAC,iBAAA,CAA8B,YAA9B,CAA4C,IAAA1E,gCAA5C,CAAkF,CAAE2E,QAAS,CAAA,CAAX,CAAlF,CACA,KAAAF,QAAAG,YAAA,CAAyB,IAAA1C,QAAAuC,QAAzB,CACA,KAAAA,QAAAG,YAAA,CAAyB,IAAAP,uBAAzB,CACA,KAAAQ,YAAA,EACA,KAAAC,oBAAA,EACA,KAAA5C,QAAA6C,kBAAA,EAvEU,CAyEV,yBAAwB,EAAA,CAAE,MAAO,KAAAV,uBAAT,CACxB,cAAa,EAAA,CAAE,MAAO,KAAAnC,QAAAR,KAAT,CACb,cAAa,EAAA,CAAE,MAAO,KAAAQ,QAAAG,KAAT,CACb,wBAAuB,EAAA,CAAE,MAAO,KAAAH,QAAA8C,eAAT,CACvB,eAAc,EAAA,CAAE,MAAO,KAAA9C,QAAAQ,YAAT,CAEd,UAAS,EAAA,CAAE,MAAO,KAAAuC,QAAT,CAET,yBAAwB,EAAA,CAAE,MAAO,KAAAC,uBAAT,CAExB,uBAAsB,EAAA,CAAE,MAAO,KAAA5D,qBAAT,CACtB,eAAc,EAAA,CAAE,MAAO,KAAP;AAAgB,IAAArD,cAAAkH,eAAlB,CAElB,IAAI,CAACC,IAAD,CAAO,CACH,IAAAlD,QAAAQ,YAAJ,GACQ,IAAAvE,aAAAkH,SADR,EACsC,IAAAlH,aAAAkH,SADtC,GAEQ,IAAAlH,aAAAyD,KAAA,CAAuB,IAAvB,CAA6BwD,IAA7B,CAHD,CAMX,UAAU,EAAG,CACT,IAAAE,eAAA,EACA,KAAAC,uBAAA,EAFS,CAKb,IAAI,EAAG,CACH,GAA2B,CAAA,CAA3B,GAAI,IAAAC,cAAJ,CAAA,CAEA,IAAAF,eAAA,EACA,KAAK,IAAIG,WAAI,CAAb,CAAgBA,UAAhB,CAAoB,IAAAC,aAAAvE,OAApB,CAA8CsE,UAAA,EAA9C,CACI,IAAApB,uBAAAO,YAAA,CAAwC,IAAAc,aAAA,CAAkBD,UAAlB,CAAAhB,QAAxC,CAEJ,MAAAkB,KAAA,EACMD,WAAAA,CAAe,IAAAA,aACrB,KAAME,iBAAmBF,UAAAvE,OACzB;GAAuB,CAAvB,CAAIyE,gBAAJ,CAA0B,CACtB,GAAmC,CAAnC,CAAI,IAAApE,wBAAJ,EAAwC,IAAAA,wBAAxC,EAAwEoE,gBAAxE,CACI,KAAUC,MAAJ,CAAU,iCAAiC,IAAArE,wBAAjC,QAAqE,IAAAsE,GAArE,EAAV,CAAN,CAGA,IAAK,IAAIL,EAAI,CAAb,CAAgBA,CAAhB,CAAoBG,gBAApB,CAAsCH,CAAA,EAAtC,CAA2C,CACvC,MAAMM,YAAcL,UAAA,CAAaD,CAAb,CACpB,IAAMM,WAAN,WAA6BlI,iBAAAmI,cAA7B,CAII,IAAA9D,QAAA+D,UAAA,CAAuBF,WAAvB,CAAoCN,CAApC,CACA,CAAAM,WAAAG,KAAA,EALJ,KACI,MAAUL,MAAJ,CAAU,oDAAoDJ,CAApD,QAA6D,IAAAK,GAA7D,EAAV,CAAN,CAHmC,CAU3C,IAAAK,uBAAA,CAA4BT,UAAA,CAAa,IAAAlE,wBAAb,CAA5B;AAAwE,CAAA,CAAxE,CACA,KAAAU,QAAAkE,eAAA,EAhBkB,CAmB1B,IAAAlE,QAAA6C,kBAAA,EACA,EAAI,IAAA5G,aAAAkI,MAAJ,EAA+B,IAAAlI,aAAAkH,SAA/B,GACI,IAAAlH,aAAAmI,gBAAA,EAEJ,KAAAC,iBAAA,EAhCA,CADG,CAoCP,oBAAoB,CAAC1C,IAAD,CAAO,CACvB,GAAK9F,cAAAyI,YAAAC,gBAAA,CAA2C5C,IAA3C,CAAL,CAII,IAAAsC,uBAAA,CAA4BtC,IAA5B,CAAkC,CAAA,CAAlC,CAJJ,KACI,MAAUgC,MAAJ,CAAU,yDAAV,CAAN,CAFmB,CAQ3B,sBAAsB,CAACa,aAAD,CAAgBC,KAAhB,CAAuBC,kBAAA,CAAqB,CAAA,CAA5C,CAAmD,CACrE,GAAI,IAAAC,qBAAJ,GAAkCH,aAAlC,CAAiD,CAC7C,GAAkD,EAAlD,GAAI,IAAAhB,aAAAoB,QAAA,CAA0BJ,aAA1B,CAAJ,CACI,KAAUb,MAAJ,CAAU,4CAAV,CAAN;AAGkCzE,IAAAA,EAAlC,GAAI,IAAAyF,qBAAJ,EACI,IAAAA,qBAAAX,KAAA,EAEJ,KAAAW,qBAAA,CAA4BH,aAC5B,KAAAxE,QAAA6E,8BAAA,CAA2CL,aAA3C,CACAA,cAAAhF,KAAA,EACA,KAAAsF,KAAA,CAAU,0BAAV,CAAsCN,aAAtC,CACA,KAAAzI,cAAA+I,KAAA,CAAwB,0BAAxB,CAAoDN,aAApD,CACA,KAAAO,sBAAA,EAbyC,CAgBjD,CAAI,IAAAC,QAAJ,EAAoBP,KAApB,GACI,IAAA1I,cAAAkJ,wBAAA,CAA2CT,aAA3C,CAA0DE,kBAA1D,CAlBiE,CAsBzE,oBAAoB,EAAG,CACnB,IAAIQ,MACJA,OAAA,CAAS,IAAA/D,uBAAA,EACMjC;IAAAA,EAAf,GAAIgG,MAAJ,GACIA,MADJ,CACa,IADb,CAGA,OAAOA,OANY,CAQvB,sBAAsB,EAAG,CACrB,MAAO,KAAAP,qBADc,CAIzB,sBAAsB,EAAG,CACrB,IAAAA,qBAAAF,MAAA,EADqB,CAIzB,eAAe,CAACxJ,KAAD,CAAQ,CACnB,IAAA+E,QAAAmF,kBAAA,CAA+BlK,KAA/B,CACA,MAAAmK,gBAAA,CAAsBnK,KAAtB,CAFmB,CAKvB,SAAS,CAACA,KAAD,CAAQ,CACb,GAAKA,KAAAoK,OAAL,CAII,IAAAtC,QAAA,CAAe9H,KAJnB,KACI,MAAM,KAAIK,gBAAAgK,YAAJ,CAAiC,SAAjC,CAAN,CAFS,CASjB,WAAW,EAAG,CACV,IAAAvC,QAAA,CAAe,CACXsC,OAAQ,CAAA,CADG,CAEXE,UAAW,OAFA,CAGXC,KAAM,CAHK,CAIXC,SAAU,CAJC,CADL,CASd,WAAW,CAACxK,KAAD,CAAQ,CACf,IAAA+E,QAAA0F,YAAA,CAAyBzK,KAAzB,CADe,CAInB,oBAAoB,CAACA,KAAD,CAAQ,CACxB,IAAA+E,QAAA2F,qBAAA,CAAkC1K,KAAlC,CADwB,CAG5B,YAAY,CAAC2K,aAAD;AAAgBC,cAAhB,CAAgCC,KAAhC,CAAuCC,KAAvC,CAA8C,CAOtD,MAAO,KAAAC,QAAA,CANYC,CACfC,KAAM,WADSD,CAEfL,aAFeK,CAGfJ,cAHeI,CAIfH,KAJeG,CAMZ,CAAyBF,KAAzB,CAP+C,CAS1D,YAAY,CAACH,aAAD,CAAgBC,cAAhB,CAAgCC,KAAhC,CAAuCC,KAAvC,CAA8C,CAOtD,MAAO,KAAAI,QAAA,CANYF,CACfC,KAAM,WADSD,CAEfL,aAFeK,CAGfJ,cAHeI,CAIfH,KAJeG,CAMZ,CAAyBF,KAAzB,CAP+C,CAS1D,OAAO,CAACE,UAAD,CAAaF,KAAb,CAAoB,CACvBA,KAAA,CAAQ,IAAAI,QAAA,CAAaF,UAAb,CAAyBF,KAAzB,CACR,OAAO,KAAAvC,aAAA,CAAkBuC,KAAlB,CAFgB,CAI3B,OAAO,CAACE,UAAD,CAAaF,KAAb,CAAoB,CACvB,IAAAhK,cAAAqK,4BAAA,EACMC,WAAAA,CAAqBlL,QAAAmL,WAAAC,QAAA,CAA4BN,UAA5B,CACrBpC,WAAAA,CAAc,IAAA9H,cAAAyK,yBAAA,CAA4CH,UAA5C;AAAgE,IAAhE,CACpB,OAAO,KAAAI,SAAA,CAAc5C,UAAd,CAA2BkC,KAA3B,CAJgB,CAM3B,QAAQ,CAAClC,WAAD,CAAckC,KAAd,CAAqBtB,KAAA,CAAQ,CAAA,CAA7B,CAAoC,CACxC,GAAcvF,IAAAA,EAAd,GAAI6G,KAAJ,EAA2BA,KAA3B,CAAmC,IAAAvC,aAAAvE,OAAnC,CAEI,KAAM,KAAI3D,gBAAAgK,YAAJ,CAAiC,UAAjC,CAAN,CAEJ,GAAMzB,WAAN,WAA6BlI,iBAAAmI,cAA7B,CAeI,MAXAiC,MAWOA,CAXC,KAAAU,SAAA,CAAe5C,WAAf,CAA4BkC,KAA5B,CAWDA,CAVP,IAAA5D,uBAAAO,YAAA,CAAwCmB,WAAAtB,QAAxC,CAUOwD,CATP,IAAA/F,QAAA+D,UAAA,CAAuBF,WAAvB,CAAoCkC,KAApC,CASOA,CARP,IAAA9B,uBAAA,CAA4BJ,WAA5B,CAAyCY,KAAzC,CAQOsB,CAPP,IAAA/F,QAAAkE,eAAA,EAOO6B,CANP,IAAAW,WAAA,EAMOX,CALP,IAAA/F,QAAA6C,kBAAA,EAKOkD;CAJH,IAAA9J,aAAAkI,MAIG4B,EAJwB,IAAA9J,aAAAkH,SAIxB4C,GAHH,IAAA9J,aAAAmI,gBAAA,EAGG2B,CADP,IAAAhB,sBAAA,EACOgB,CAAAA,KAdP,MAAM,KAAIzK,gBAAAgK,YAAJ,CAAiC,WAAjC,CAAN,CANoC,CAuB5C,WAAW,CAACzB,WAAD,CAAc8C,SAAd,CAAyB,CAEhC,MAAMZ,MAAQ,IAAAvC,aAAAoB,QAAA,CADQf,WACR,CAAd,CACM+C,mBAAkD,CAAlDA,GAAqB,IAAApD,aAAAvE,OACvB,KAAA0F,qBAAJ,GAHsBd,WAGtB,GAHsBA,WAIdmB,QAGJ,EAPkBnB,WAKdgD,KAAA,EAEJ,CAAKD,kBAAL,EAKI,IAAA3C,uBAAA,CAA4B,IAAAT,aAAA,CADY,CAAVsD,GAAAf,KAAAe,CAAc,CAAdA,CAAkBf,KAAlBe,CAA0B,CAC5B,CAA5B,CAAsE,CAAA,CAAtE,CATR,CAYA,KAAA9G,QAAA+G,UAAA,CAfsBlD,WAetB,CACA;KAAAmD,YAAA,CAhBsBnD,WAgBtB,CAAiC8C,SAAjC,CACKC,mBAAL,GACI,IAAA5G,QAAA6C,kBAAA,EACA,EAAI,IAAA5G,aAAAkI,MAAJ,EAA+B,IAAAlI,aAAAkH,SAA/B,GACI,IAAAlH,aAAAmI,gBAAA,EAHR,CAMA,KAAAW,sBAAA,EAxBgC,CA6BpC,cAAc,EAAG,CACT,IAAAkC,YAAJ,CACI,IAAApH,SAAA,EADJ,CAII,IAAAF,SAAA,EALS,CAQjB,QAAQ,EAAG,CACF,IAAAsH,YAAL,GACI,IAAAvH,KAAA,CAAU,CAAA,CAAV,CAEA,CADA,IAAA3D,cAAAmL,kBAAA,CAAqC,IAArC,CACA,CAAA,IAAAnC,sBAAA,EAHJ,CADO,CAOX,QAAQ,EAAG,CACH,IAAAkC,YAAJ,GACI,IAAAlL,cAAAmL,kBAAA,CAAqChI,IAAAA,EAArC,CACA,CAAA,IAAA6F,sBAAA,EAFJ,CADO,CAOX,OAAO,EAAG,CACF,IAAAJ,qBAAAK,QAAJ;AACI,IAAAL,qBAAAkC,KAAA,EAEJ,MAAAM,QAAA,EACA,KAAAC,IAAA,CAAS,QAAT,CAAmB,IAAAnJ,gBAAnB,CACI,KAAA8B,kBAAJ,GACI,IAAAqH,IAAA,CAAS,WAAT,CAAsB,IAAAhJ,mBAAtB,CACA,CAAA,IAAAgJ,IAAA,CAAS,WAAT,CAAsB,IAAA7I,mBAAtB,CAFJ,CAIA,KAAAgE,QAAA8E,oBAAA,CAAiC,YAAjC,CAA+C,IAAA1J,gCAA/C,CACA,KAAA4E,QAAA8E,oBAAA,CAAiC,YAAjC,CAA+C,IAAAvJ,gCAA/C,CACA,KAAAkC,QAAAmH,QAAA,EAZM,CAcV,QAAQ,EAAG,CACP,MAAM5H,gBAAkB,IAAAiE,aAAAoB,QAAA,CAA0B,IAAAD,qBAA1B,CACxB,IAAsB,CAAtB,CAAIpF,eAAJ,CACI,KAAM,KAAIjE,gBAAAgK,YAAJ,CAAiC,UAAjC,CAAN;AAgBA,MAbeJ,CACXgB,KAAM,OADKhB,CAEXnG,QAAS,IAAAuI,uBAAA,EAFEpC,CAGXqC,MAAO,IAAAA,MAHIrC,CAIXsC,SAAU,IAAAA,SAJCtC,CAKXuC,OAAQ,IAAAA,OALGvC,CAMXwC,UAAW,IAAAA,UANAxC,CAOXtB,GAAI,IAAAA,GAPOsB,CAQXhE,WAAY,IAAAA,WARDgE,CASX7F,UAAW,IAAA4H,YATA/B,CAUXvG,OAAQ,IAAAgJ,mBAAA,EAVGzC,CAWX3F,eAXW2F,CANZ,CA0CX,MAAM,CAACrB,WAAD,CAAc+D,IAAd,CAAoB,CAKtB,GAA0B,QAA1B,GAAI,IAAAC,aAAJ,CAAiD,CAC7C,IAAAC,oBAAA,EACA,IAAwB5I,IAAAA,EAAxB,GAAI,IAAA6I,WAAJ,CACI,KAAM,KAAIzM,gBAAA0M,yBAAJ,CAA8C,YAA9C,CAAN,CAGA,IAAAvB,SAAA,CAAc5C,WAAd,CAA2B,IAAAkE,WAA3B,CANyC,CAAjD,IAaA,IAA0B,MAA1B,GAAI,IAAAF,aAAJ,CACI,IAAApB,SAAA,CAAc5C,WAAd;AAA2B,CAA3B,CAA8B,CAAA,CAA9B,CADJ,KAAA,CAQA,IAAMoE,WAAmC,KAAnCA,GAAa,IAAAJ,aAAbI,EAA4E,QAA5EA,GAAsD,IAAAJ,aAA5D,CACMK,aAAqC,MAArCA,GAAe,IAAAL,aAAfK,EAAgF,OAAhFA,GAA0D,IAAAL,aAC1DM,KAAAA,CAAqC,KAArCA,GAAe,IAAAN,aAAfM,EAA8E,MAA9EA,GAAwD,IAAAN,aAC9D,KAAMO,iBAAoBH,UAApBG,EAAkC,IAAAnM,aAAAkH,SAAlCiF,EAAkEF,YAAlEE,EAAkF,IAAAnM,aAAAkI,MAClFoB,aAAAA,CAAY0C,UAAA,CAAa,QAAb,CAAwB,OAI1C,IAAIpE,WAAAwE,YAAJ,CAA6B,CACzB,IAAMpC,WAAa7K,iBAAAkN,wBAAAC,cAAA,EACnBtC,WAAAtH,OAAA,CAAoB,IAAAgJ,mBAAA,EACda,WAAAA;AAAQ,IAAAzM,cAAAyK,yBAAA,CAA4CP,UAA5C,CAAwD,IAAxD,CACduC,WAAA/B,SAAA,CAAe5C,WAAf,CACAA,YAAA,CAAc2E,UALW,CAY7B,GAAI3E,WAAAqC,KAAJ,GAAyBzK,OAAAgN,SAAAC,IAAzB,EAAiD7E,WAAAqC,KAAjD,GAAsEzK,OAAAgN,SAAAE,OAAtE,CACU1C,UAIN,CAJmB7K,iBAAAkN,wBAAAC,cAAA,EAInB,CAHAtC,UAAAtH,OAGA,CAHoB,IAAAgJ,mBAAA,EAGpB,CAFMa,UAEN,CAFc,IAAAzM,cAAA6M,kBAAA,CAAqC3C,UAArC,CAAiD,IAAjD,CAEd,CADAuC,UAAA/B,SAAA,CAAe5C,WAAf,CACA,CAAAA,WAAA,CAAc2E,UAMdJ,iBAAJ,EACUrC,UAIN,CAJc,IAAA9J,aAAAuH,aAAAoB,QAAA,CAAuC,IAAvC,CAId;AAHA,IAAA3I,aAAAwK,SAAA,CAA2B5C,WAA3B,CAAwCsE,IAAA,CAAepC,UAAf,CAAuBA,UAAvB,CAA+B,CAAvE,CAA0E,CAAA,CAA1E,CAGA,CAFA,IAAA,CAAKR,YAAL,CAEA,EAFmB,EAEnB,CADA1B,WAAA,CAAY0B,YAAZ,CACA,CADyB,IAAA,CAAKA,YAAL,CACzB,CAAA,IAAAtJ,aAAAyK,WAAA,EALJ,GAaUT,UAON,CAPmB7K,iBAAAyN,mBAAAN,cAAA,CADNN,UAAA/B,CAAazK,OAAAgN,SAAAE,OAAbzC,CAAuCzK,OAAAgN,SAAAC,IACjC,CAOnB,CANMI,UAMN,CANoB,IAAA/M,cAAA6M,kBAAA,CAAqC3C,UAArC,CAAiD,IAAjD,CAMpB,CALA,IAAAhK,aAAA8M,aAAA,CAA+B,IAA/B,CAAqCD,UAArC,CAKA,CAJAA,UAAArC,SAAA,CAAqB5C,WAArB,CAAkCsE,IAAA,CAAe,CAAf,CAAmBjJ,IAAAA,EAArD,CAAgE,CAAA,CAAhE,CAIA,CAHA4J,UAAArC,SAAA,CAAqB,IAArB,CAA2B0B,IAAA,CAAejJ,IAAAA,EAAf,CAA2B,CAAtD,CAAyD,CAAA,CAAzD,CAGA,CAFA,IAAA,CAAKqG,YAAL,CAEA;AAFkB,EAElB,CADA1B,WAAA,CAAY0B,YAAZ,CACA,CADyB,EACzB,CAAAuD,UAAApC,WAAA,EApBJ,CAsBA,KAAAzK,aAAAmI,gBAAA,EA7DA,CAlBsB,CAyF1B,iBAAiB,CAACtC,CAAD,CAAIC,CAAJ,CAAO,CACpB,IAAK,MAAMiH,GAAX,GAAkB,KAAAhG,uBAAlB,CAA+C,CAC3C,MAAMiG,QAAUD,GAAhB,CACMpB,KAAO,IAAA5E,uBAAA,CAA4BiG,OAA5B,CAAAC,UACb,IAAItB,IAAAuB,GAAJ,CAAcrH,CAAd,EAAmB8F,IAAAwB,GAAnB,CAA6BtH,CAA7B,EAAkC8F,IAAAyB,GAAlC,CAA4CtH,CAA5C,EAAiD6F,IAAA0B,GAAjD,CAA2DvH,CAA3D,CAA8D,CAC1C,QAAhB,GAAIkH,OAAJ,EACI,IAAApB,aACA,CADoB,QACpB,CAAA,IAAA0B,wBAAA,CAA6B,IAAAvJ,QAAA8C,eAAA,CAA8Bf,CAA9B,CAAkCD,CAA/D,CAFJ,GAKI,IAAAgG,oBAAA,EACA,CAAA,IAAA0B,sBAAA,CAA2BP,OAA3B,CANJ,CAQA,MAT0D,CAHnB,CAD3B,CAkBxB,OAAO,EAAG,CACN,GAAmC,MAAnC,GAAI,IAAA1G,QAAAkH,MAAAC,QAAJ,CACI,MAAO,KAEX;MAAMC,WAAa,KAAAC,eAAA,CAAqB,IAAA5J,QAAAuC,QAArB,CAAnB,CACMsH,YAAc,KAAAD,eAAA,CAAqB,IAAAzH,uBAArB,CACpB,IAAmB,IAAnB,GAAIwH,UAAJ,EAA2C,IAA3C,GAA2BE,WAA3B,CACI,KAAM,KAAIvO,gBAAAwO,oBAAJ,CAAyC,YAAzC,CAAN,CAEJ,MAAMC,aAAeF,WAAAT,GAAfW,CAAgCF,WAAAV,GAAtC,CACMa,cAAgBH,WAAAP,GAAhBU,CAAiCH,WAAAR,GACvC,KAAArG,uBAAA,CAA8B,CAC1BrE,OAAQ,CACJuK,UAAW,CACPC,GAAIQ,UAAAR,GADG,CAEPE,GAAIM,UAAAN,GAFG,CAGPD,GAAIO,UAAAP,GAHG,CAIPE,GAAIK,UAAAL,GAJG,CADP,CAOJW,cAAe,CACXd,GAAIQ,UAAAR,GADO,CAEXE,GAAIM,UAAAN,GAFO,CAGXD,GAAIO,UAAAP,GAHO,CAIXE,GAAIK,UAAAL,GAJO,CAPX,CADkB,CAmBG;CAAjC,GAAI,IAAA9F,aAAAvE,OAAJ,CACI,IAAA+D,uBAAAkH,KADJ,CACuC,CAC/BhB,UAAW,CACPC,GAAIU,WAAAV,GADG,CAEPE,GAAIQ,WAAAR,GAFG,CAGPD,GAAIS,WAAAT,GAHG,CAIPE,GAAIO,WAAAP,GAJG,CADoB,CAO/BW,cAAe,CACXd,GAAIU,WAAAV,GADO,CAEXE,GAAIQ,WAAAR,GAFO,CAGXD,GAAIS,WAAAT,GAHO,CAIXE,GAAIO,WAAAP,GAJO,CAPgB,CADvC,EAkBI,IAAAtG,uBAAAmH,KA0CA,CA1CmC,CAC/BjB,UAAW,CACPC,GAAIU,WAAAV,GADG,CAEPE,GAAIQ,WAAAR,GAFG,CAGPD,GAAIS,WAAAV,GAAJC,CAAoC,GAApCA,CAAqBW,YAHd,CAIPT,GAAIO,WAAAP,GAJG,CADoB,CAO/BW,cAAe,CACXd,GAAIU,WAAAV,GADO,CAEXE,GAAIQ,WAAAR,GAFO,CAGXD,GAAIS,WAAAV,GAAJC,CAAoC,EAApCA,CAAqBW,YAHV,CAIXT,GAAIO,WAAAP,GAJO,CAPgB,CA0CnC,CA5BA,IAAAtG,uBAAA3C,IA4BA;AA5BkC,CAC9B6I,UAAW,CACPC,GAAIU,WAAAV,GAAJA,CAAoC,GAApCA,CAAqBY,YADd,CAEPV,GAAIQ,WAAAR,GAFG,CAGPD,GAAIS,WAAAV,GAAJC,CAAoC,GAApCA,CAAqBW,YAHd,CAIPT,GAAIO,WAAAR,GAAJC,CAAqC,EAArCA,CAAqBU,aAJd,CADmB,CAO9BC,cAAe,CACXd,GAAIU,WAAAV,GADO,CAEXE,GAAIQ,WAAAR,GAFO,CAGXD,GAAIS,WAAAT,GAHO,CAIXE,GAAIO,WAAAR,GAAJC,CAAqC,EAArCA,CAAqBU,aAJV,CAPe,CA4BlC,CAdA,IAAAhH,uBAAAoH,MAcA,CAdoC,CAChClB,UAAW,CACPC,GAAIU,WAAAV,GAAJA,CAAoC,GAApCA,CAAqBY,YADd,CAEPV,GAAIQ,WAAAR,GAFG,CAGPD,GAAIS,WAAAT,GAHG,CAIPE,GAAIO,WAAAP,GAJG,CADqB,CAOhCW,cAAe,CACXd,GAAIU,WAAAV,GAAJA,CAAoC,EAApCA,CAAqBY,YADV,CAEXV,GAAIQ,WAAAR,GAFO,CAGXD,GAAIS,WAAAT,GAHO,CAIXE,GAAIO,WAAAP,GAJO,CAPiB,CAcpC,CAAA,IAAAtG,uBAAAqH,OAAA;AAAqC,CACjCnB,UAAW,CACPC,GAAIU,WAAAV,GAAJA,CAAoC,GAApCA,CAAqBY,YADd,CAEPV,GAAIQ,WAAAR,GAAJA,CAAqC,EAArCA,CAAqBW,aAFd,CAGPZ,GAAIS,WAAAV,GAAJC,CAAoC,GAApCA,CAAqBW,YAHd,CAIPT,GAAIO,WAAAP,GAJG,CADsB,CAOjCW,cAAe,CACXd,GAAIU,WAAAV,GADO,CAEXE,GAAIQ,WAAAR,GAAJA,CAAqC,EAArCA,CAAqBW,aAFV,CAGXZ,GAAIS,WAAAT,GAHO,CAIXE,GAAIO,WAAAP,GAJO,CAPkB,CA5DzC,CAeI,OAAO,MAAAM,eAAA,CAAqB,IAAArH,QAArB,CA7CL,CAmHV,cAAc,CAAC+H,QAAD,CAAW,CACrB,GAAI,IAAAvH,QAAAsC,OAAJ,CACI,KAAU1B,MAAJ,CAAU,8CAAV,CAAN,CAEA,IAAA3D,QAAAG,KAAJ,GAA0BmK,QAA1B,GACI,IAAAtK,QAAAuK,QAAA,CAAqBD,QAArB,CAEA,CADA,IAAA5M,mBACA,CAD0B,CAAA,CAC1B,CAAA,IAAAkF,oBAAA,EAHJ,CAJqB,CAWzB,SAAS,CAAC4H,MAAD,CAAS,CACd,IAAAvO,aAAA;AAAoBuO,MACpB,MAAAC,UAAA,CAAgBD,MAAhB,CAFc,CAKlB,cAAc,EAAG,CACb,GAAmC,MAAnC,GAAI,IAAAjI,QAAAkH,MAAAC,QAAJ,CAA2C,CACvC,IAAMgB,SAAW,IAAA3H,QAAAsC,OACjB,OAAMtG,QAAUrD,OAAAiP,yBAAA,CAAiC,IAAApI,QAAjC,CACZ,KAAAvC,QAAAR,KAAJ,GAEIT,OAAA,CADkB,IAAAiB,QAAA8C,eAAAyC,CAA8B9J,OAAAmP,0BAAArD,MAA9BhC,CAAwE9J,OAAAmP,0BAAAnD,OAC1F,CAFJ,EAE0B,IAAA1L,cAAA8C,aAAAgM,WAAAC,aAF1B,CAIIJ,SAAJ,GACI3L,OAAA,CAAQ,IAAAgE,QAAAwC,UAAR,CADJ,CACsC,IAAAxC,QAAA0C,SADtC,CAGKiF,SAAL,EAAiB,IAAA3H,QAAAwC,UAAjB,GAA4C9J,OAAAmP,0BAAAnD,OAA5C;CACI,IAAAtF,uBAAAsH,MAAAlC,MADJ,CAC8C7L,OAAAqP,eAAA,CAAuBhM,OAAAwI,MAAvB,CAD9C,CAGKmD,SAAL,EAAiB,IAAA3H,QAAAwC,UAAjB,GAA4C9J,OAAAmP,0BAAArD,MAA5C,GACI,IAAApF,uBAAAsH,MAAAhC,OADJ,CAC+C/L,OAAAqP,eAAA,CAAuBhM,OAAA0I,OAAvB,CAD/C,CAGA,KAASlE,QAAT,CAAa,CAAb,CAAgBA,QAAhB,CAAoB,IAAAC,aAAAvE,OAApB,CAA8CsE,QAAA,EAA9C,CACI,IAAAC,aAAA,CAAkBD,QAAlB,CAAAhB,QAAAkH,MAAAlC,MACA,CAD2C7L,OAAAqP,eAAA,CAAuBhM,OAAAwI,MAAvB,CAC3C,CAAA,IAAA/D,aAAA,CAAkBD,QAAlB,CAAAhB,QAAAkH,MAAAhC,OAAA,CAA4C/L,OAAAqP,eAAA,CAAuBhM,OAAA0I,OAAvB,CAEhD,KAAA3C,KAAA,CAAU,QAAV,CACA,KAAAC,sBAAA,EArBuC,CAD9B,CA0BjB,uBAAuB,CAACjD,CAAD,CAAI,CACvB,IAAMkJ;AAAa,IAAAhL,QAAAiL,KAAAhM,OACnB,OAAMiM,oBAAsB,IAAAnP,cAAAmP,oBAC5B,IAA4B,IAA5B,GAAIA,mBAAJ,CACI,KAAM,KAAI5P,gBAAAwO,oBAAJ,CAAyC,eAAzC,CAAN,CAIJ,GAAmB,CAAnB,GAAIkB,UAAJ,CAAsB,CACZG,IAAAA,KAAe3P,eAAA4P,gBAAA,CAAgC,IAAApL,QAAAuC,QAAhC,CACrB,KAAM8I,cAAgB3P,OAAA4P,iBAAA,CAAyB,IAAAtL,QAAAuC,QAAzB,CACtBqF,KAAA,CAAO,CACHuB,GAAIgC,IAAAhB,KADD,CAEHf,GAAI+B,IAAAhB,KAAJf,CAAwB,GAFrB,CAGHC,GAAI8B,IAAA9K,IAAJgJ,CAAuBgC,aAAvBhC,CAAuC,EAHpC,CAIHC,GAAI6B,IAAA9K,IAAJiJ,CAAuB+B,aAJpB,CAHW,CAAtB,IAUK,CACD,IAAIE,SAAW,CAAf,CACIC,WAAa,CAAA,CADjB,CAGIC,OAHJ,CAIIC,QAEJ,GACIC,KAYA,CAZa,IAAA3L,QAAAiL,KAAA,CAAkBM,QAAlB,CAAAhJ,QAYb;AAXMqJ,aAWN,CAXepQ,eAAA4P,gBAAA,CAAgCO,IAAhC,CAWf,CAVI,IAAA3L,QAAA8C,eAAJ,EACI2I,OAEA,CAFUG,aAAAvL,IAEV,CADAwL,aACA,CADSD,aAAAzB,KACT,CAAAuB,QAAA,CAAWhQ,OAAA4P,iBAAA,CAAyBK,IAAzB,CAHf,GAMIF,OAEA,CAFUG,aAAAzB,KAEV,CADA0B,aACA,CADSD,aAAAvL,IACT,CAAAqL,QAAA,CAAWhQ,OAAAoQ,gBAAA,CAAwBH,IAAxB,CARf,CAUA,CAAI7J,CAAJ,CAAQ2J,OAAR,EAAmB3J,CAAnB,CAAuB2J,OAAvB,CAAiCC,QAAjC,CACIF,UADJ,CACiB,CAAA,CADjB,CAIID,QAAA,EAjBR,OAmBSA,QAnBT,CAmBoBP,UAnBpB,EAmBkC,CAACQ,UAnBnC,CAoBA,IAAmB,CAAA,CAAnB,GAAIA,UAAJ,EAA4B1J,CAA5B,CAAgC2J,OAAhC,CACI,MAGA3J,EAAJ,CADc2J,OACd,CADwBC,QACxB,CADmC,CACnC,EACI,IAAA3D,WACA,CADkBwD,QAClB,CAAAI,IAAAI,sBAAA,CAAiC,aAAjC;AAAgD,IAAAhQ,cAAAiQ,mBAAhD,CAFJ,GAKI,IAAAjE,WACA,CADkBkE,IAAAC,IAAA,CAASX,QAAT,CAAoB,CAApB,CAAuBP,UAAvB,CAClB,CAAAW,IAAAI,sBAAA,CAAiC,UAAjC,CAA6C,IAAAhQ,cAAAiQ,mBAA7C,CANJ,CAQMG,WAAAA,CAA2B3Q,eAAA4P,gBAAA,CAAgC,IAAArP,cAAAiQ,mBAAhC,CAC3BI,EAAAA,CAA0B1Q,OAAAoQ,gBAAA,CAAwB,IAAA/P,cAAAiQ,mBAAxB,CAC5B,KAAAhM,QAAA8C,eAAJ,EACUuJ,UACN,CADuBF,UAAA9L,IACvB,CAAAuH,IAAA,CAAO,CACHuB,GAAI0C,aADD,CAEHzC,GAAIyC,aAAJzC,CAAauC,IAAAW,aAFV,CAGHjD,GAAIgD,UAHD,CAIH/C,GAAI+C,UAAJ/C,CAAqB8C,CAJlB,CAFX,GAUUG,UACN,CADwBJ,UAAAhC,KACxB,CAAAvC,IAAA,CAAO,CACHuB,GAAIoD,UADD;AAEHnD,GAAImD,UAAJnD,CAAsBgD,CAFnB,CAGH/C,GAAIwC,aAHD,CAIHvC,GAAIuC,aAAJvC,CAAaqC,IAAAW,aAJV,CAXX,CAzCC,CA4DLpB,mBAAAjB,cAAA,CAAkCrC,IAAlC,CA9EuB,CAkF3B,mBAAmB,EAAG,CAClB,IAAA7L,cAAAiQ,mBAAA5K,OAAA,EADkB,CAItB,mBAAmB,EAAG,CAClB1F,OAAA8Q,4BAAA,CAAoC,IAAAxM,QAAAuC,QAApC,CAA0D,IAAAvC,QAAAR,KAA1D,CACA,KAAA+C,QAAAH,UAAAhB,OAAA,CAA8B,SAA9B,CAAoD,UAApD,CAA4E,WAA5E,CACI,KAAApB,QAAA8C,eAAJ,EACI,IAAAP,QAAAH,UAAAC,IAAA,CAA2B,KAA3B,CAAmC,IAAArC,QAAAG,KAAnC,CAMJ,KAAAuG,WAAA,EAVkB,CAatB,qBAAqB,CAACuC,OAAD,CAAU,CAC3B,GAAoC/J,IAAAA,EAApC,GAAI,IAAA8D,uBAAJ,CACI,KAAM,KAAI1H,gBAAA0M,yBAAJ,CAA8C,aAA9C,CAAN;AAEC,CACD,MAAMiC,cAAgB,IAAAjH,uBAAA,CAA4BiG,OAA5B,CAAAgB,cAAtB,CACMiB,oBAAsB,IAAAnP,cAAAmP,oBAC5B,IAA4B,IAA5B,GAAIA,mBAAJ,CACI,KAAM,KAAI5P,gBAAAwO,oBAAJ,CAAyC,aAAzC,CAAN,CAGAoB,mBAAAjB,cAAA,CAAkCA,aAAlC,CACA,KAAApC,aAAA,CAAoBoB,OARvB,CAJsB,CAiB/B,YAAY,EAAG,CACX,IAAAjJ,QAAAkE,eAAA,EADW,CAIf,eAAe,EAAG,CACd,IAAAlE,QAAAyM,iBAAA,EADc,CAIlB,eAAe,EAAG,CACd,IAAAzM,QAAA0M,iBAAA,EADc,CAIlB,mBAAmB,EAAG,CACd,IAAA3J,QAAAsC,OAAJ,GACI,IAAAlD,uBAAAsH,MAAA,CAAkC,IAAA1G,QAAAwC,UAAlC,CADJ;AACgE7J,OAAAqP,eAAA,CAAuB,IAAAhI,QAAA0C,SAAvB,CADhE,CADkB,CAMtB,mBAAmB,EAAG,CACd,IAAA1C,QAAAsC,OAAJ,GACI,IAAAlD,uBAAAsH,MAAA,CAAkC,IAAA1G,QAAAwC,UAAlC,CADJ,CACgE7J,OAAAqP,eAAA,CAAuB,CAAvB,CADhE,CADkB,CAMtB,eAAe,EAAG,CACd,IAAArL,KAAA,EADc,CAIlB,iBAAiB,EAAG,CAChB,IAAAD,OAAA,EADgB,CAIpB,sBAAsB,CAAC+B,EAAD,CAAK,CACvB,MAAMmL,UAAYpR,eAAAqR,aAAAC,qBACZC,GAAAA,CAAgB,IAAIvR,eAAAqR,aAAAG,mBAAJ,CAAoDJ,SAApD,CAA+D,IAA/D,CAAqEnL,EAArE,CACtB,KAAAsD,KAAA,CAAU6H,SAAV,CAAqBG,EAArB,CAHuB,CAM3B,2BAA2B,CAACtL,EAAD,CAAK,CAC5B,MAAMmL,UAAYpR,eAAAqR,aAAAI,0BACZF;EAAAA,CAAgB,IAAIvR,eAAAqR,aAAAK,wBAAJ,CAAyDN,SAAzD,CAAoE,IAApE,CAA0EnL,EAA1E,CACtB,KAAAsD,KAAA,CAAU6H,SAAV,CAAqBG,EAArB,CAH4B,CAMhC,gCAAgC,CAACnL,IAAD,CAAO,CACnC,IAAAqF,YAAA,CAAiBrF,IAAjB,CAAuB,CAAA,CAAvB,CADmC,CAIvC,+BAA+B,CAACA,IAAD,CAAO,CAClC,IAAAsC,uBAAA,CAA4BtC,IAA5B,CAAkC,CAAA,CAAlC,CADkC,CAItC,mCAAmC,CAACG,CAAD,CAAIC,CAAJ,CAAOC,YAAP,CAAqBwC,aAArB,CAAoC,CAC1C,CAAA,CAAzB,GAAI,IAAAyC,YAAJ,EACI,IAAA1F,eAAA,EAEJ,KAAAxF,cAAAmR,mBAAA,CAAsCpL,CAAtC,CAAyCC,CAAzC,CAA4CC,YAA5C,CAA0DwC,aAA1D,CAAyE,IAAzE,CAJmE,CAOvE,kBAAkB,EAAG,CACjB,GAAK,IAAA9G,mBAAL,CAGK,CACD,MAAM8B,KAAO,IAAAQ,QAAAR,KAAA;AAAoB,IAAAQ,QAAAG,KAApB,CAAwC,CAAA,CACrD,KAAI+E,OAAS9J,iBAAA+R,2BAAAlN,OAAAmN,WAAA,CAA+D,IAAA1O,cAA/D,CAAmFc,IAAnF,CACEN,KAAAA,EAAf,GAAIgG,MAAJ,GACIA,MADJ,CACa,CACL1F,IADK,CAELC,OAAQP,IAAAA,EAFH,CAGLQ,KAAMR,IAAAA,EAHD,CAILS,SAAUT,IAAAA,EAJL,CAKLU,MAAOV,IAAAA,EALF,CAMLW,SAAUX,IAAAA,EANL,CAOLY,YAAaZ,IAAAA,EAPR,CADb,CAWA,OAAOgG,OAdN,CAFD,MAAO9J,kBAAA+R,2BAAAlN,OAAAmN,WAAA,CAA+D,IAAA1O,cAA/D,CAFM,CAsBrB,qBAAqB,EAAG,CACpB,IAAA2O,sBAAA,CAA2B,cAA3B,CADoB,CAh0B5B,CAo0BAvS,OAAAI,MAAA,CAAgBA,KAEf,UAAS,CAACA,KAAD,CAAQ,CAQdA,KAAAsC,cAAA,CANAA,QAAsB,CAACC,QAAD,CAAW,CACvB8E,QAAAA,CAAU9E,QAAAD,cAAA,CAAuB,KAAvB,CAChB+E;QAAAH,UAAAC,IAAA,CAAsB,SAAtB,CACAE,SAAAH,UAAAC,IAAA,CAAsB,UAAtB,CACA,OAAOE,SAJsB,CAFnB,CAAjB,CAAD,CASGrH,KATH,CASWJ,OAAAI,MATX,GAS6BJ,OAAAI,MAT7B,CAS6C,EAT7C,EAt1BsH;",
"sources":["node_modules/golden-layout/dist/cjs/ts/items/stack.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$golden_layout$dist$cjs$ts$items$stack\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stack = void 0;\nconst config_1 = require(\"../config/config\");\nconst resolved_config_1 = require(\"../config/resolved-config\");\nconst header_1 = require(\"../controls/header\");\nconst internal_error_1 = require(\"../errors/internal-error\");\nconst event_emitter_1 = require(\"../utils/event-emitter\");\nconst jquery_legacy_1 = require(\"../utils/jquery-legacy\");\nconst types_1 = require(\"../utils/types\");\nconst utils_1 = require(\"../utils/utils\");\nconst component_item_1 = require(\"./component-item\");\nconst component_parentable_item_1 = require(\"./component-parentable-item\");\nconst content_item_1 = require(\"./content-item\");\n/** @public */\nclass Stack extends component_parentable_item_1.ComponentParentableItem {\n    /** @internal */\n    constructor(layoutManager, config, \n    /** @internal */\n    _stackParent) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n        super(layoutManager, config, _stackParent, Stack.createElement(document));\n        this._stackParent = _stackParent;\n        /** @internal */\n        this._headerSideChanged = false;\n        /** @internal */\n        this._elementMouseEnterEventListener = () => this.onElementMouseEnter();\n        /** @internal */\n        this._elementMouseLeaveEventListener = () => this.onElementMouseLeave();\n        /** @internal */\n        this._resizeListener = () => this.handleResize();\n        /** @internal */\n        this._maximisedListener = () => this.handleMaximised();\n        /** @internal */\n        this._minimisedListener = () => this.handleMinimised();\n        this._headerConfig = config.header;\n        const layoutHeaderConfig = layoutManager.layoutConfig.header;\n        const configContent = config.content;\n        // If stack has only one component, then we can also check this for header settings\n        let componentHeaderConfig;\n        if (configContent.length !== 1) {\n            componentHeaderConfig = undefined;\n        }\n        else {\n            const firstChildItemConfig = configContent[0];\n            componentHeaderConfig = firstChildItemConfig.header; // will be undefined if not component (and wont be stack)\n        }\n        this._initialWantMaximise = config.maximised;\n        this._initialActiveItemIndex = (_a = config.activeItemIndex) !== null && _a !== void 0 ? _a : 0; // make sure defined\n        // check for defined value for each item in order of Stack (this Item), Component (first child), Manager.\n        const show = (_d = (_c = (_b = this._headerConfig) === null || _b === void 0 ? void 0 : _b.show) !== null && _c !== void 0 ? _c : componentHeaderConfig === null || componentHeaderConfig === void 0 ? void 0 : componentHeaderConfig.show) !== null && _d !== void 0 ? _d : layoutHeaderConfig.show;\n        const popout = (_g = (_f = (_e = this._headerConfig) === null || _e === void 0 ? void 0 : _e.popout) !== null && _f !== void 0 ? _f : componentHeaderConfig === null || componentHeaderConfig === void 0 ? void 0 : componentHeaderConfig.popout) !== null && _g !== void 0 ? _g : layoutHeaderConfig.popout;\n        const dock = (_k = (_j = (_h = this._headerConfig) === null || _h === void 0 ? void 0 : _h.dock) !== null && _j !== void 0 ? _j : componentHeaderConfig === null || componentHeaderConfig === void 0 ? void 0 : componentHeaderConfig.dock) !== null && _k !== void 0 ? _k : layoutHeaderConfig.dock;\n        const maximise = (_o = (_m = (_l = this._headerConfig) === null || _l === void 0 ? void 0 : _l.maximise) !== null && _m !== void 0 ? _m : componentHeaderConfig === null || componentHeaderConfig === void 0 ? void 0 : componentHeaderConfig.maximise) !== null && _o !== void 0 ? _o : layoutHeaderConfig.maximise;\n        const close = (_r = (_q = (_p = this._headerConfig) === null || _p === void 0 ? void 0 : _p.close) !== null && _q !== void 0 ? _q : componentHeaderConfig === null || componentHeaderConfig === void 0 ? void 0 : componentHeaderConfig.close) !== null && _r !== void 0 ? _r : layoutHeaderConfig.close;\n        const minimise = (_u = (_t = (_s = this._headerConfig) === null || _s === void 0 ? void 0 : _s.minimise) !== null && _t !== void 0 ? _t : componentHeaderConfig === null || componentHeaderConfig === void 0 ? void 0 : componentHeaderConfig.minimise) !== null && _u !== void 0 ? _u : layoutHeaderConfig.minimise;\n        const tabDropdown = (_x = (_w = (_v = this._headerConfig) === null || _v === void 0 ? void 0 : _v.tabDropdown) !== null && _w !== void 0 ? _w : componentHeaderConfig === null || componentHeaderConfig === void 0 ? void 0 : componentHeaderConfig.tabDropdown) !== null && _x !== void 0 ? _x : layoutHeaderConfig.tabDropdown;\n        this._maximisedEnabled = maximise !== false;\n        const headerSettings = {\n            show: show !== false,\n            side: show === false ? types_1.Side.top : show,\n            popoutEnabled: popout !== false,\n            popoutLabel: popout === false ? '' : popout,\n            dockEnabled: dock !== false,\n            dockLabel: dock === false ? '' : dock,\n            maximiseEnabled: this._maximisedEnabled,\n            maximiseLabel: maximise === false ? '' : maximise,\n            closeEnabled: close !== false,\n            closeLabel: close === false ? '' : close,\n            minimiseEnabled: true,\n            minimiseLabel: minimise,\n            tabDropdownEnabled: tabDropdown !== false,\n            tabDropdownLabel: tabDropdown === false ? '' : tabDropdown,\n        };\n        this._header = new header_1.Header(layoutManager, this, headerSettings, config.isClosable && close !== false, () => this.getActiveComponentItem(), () => this.remove(), () => this.handleDockEvent(), () => this.handlePopoutEvent(), () => this.toggleMaximise(), (ev) => this.handleHeaderClickEvent(ev), (ev) => this.handleHeaderTouchStartEvent(ev), (item) => this.handleHeaderComponentRemoveEvent(item), (item) => this.handleHeaderComponentFocusEvent(item), (x, y, dragListener, item) => this.handleHeaderComponentStartDragEvent(x, y, dragListener, item));\n        // this._dropZones = {};\n        this.isStack = true;\n        this._childElementContainer = document.createElement('section');\n        this._childElementContainer.classList.add(\"lm_items\" /* Items */);\n        this.on('resize', this._resizeListener);\n        if (this._maximisedEnabled) {\n            this.on('maximised', this._maximisedListener);\n            this.on('minimised', this._minimisedListener);\n        }\n        this.element.addEventListener('mouseenter', this._elementMouseEnterEventListener, { passive: true });\n        this.element.addEventListener('mouseleave', this._elementMouseLeaveEventListener, { passive: true });\n        this.element.appendChild(this._header.element);\n        this.element.appendChild(this._childElementContainer);\n        this.setUndocked();\n        this.setupHeaderPosition();\n        this._header.updateClosability();\n    }\n    get childElementContainer() { return this._childElementContainer; }\n    get headerShow() { return this._header.show; }\n    get headerSide() { return this._header.side; }\n    get headerLeftRightSided() { return this._header.leftRightSided; }\n    get dockEnabled() { return this._header.dockEnabled; }\n    /** @internal */\n    get docker() { return this._docker; }\n    /** @internal */\n    get contentAreaDimensions() { return this._contentAreaDimensions; }\n    /** @internal */\n    get initialWantMaximise() { return this._initialWantMaximise; }\n    get isMaximised() { return this === this.layoutManager.maximisedStack; }\n    /** @internal */\n    dock(mode) {\n        if (this._header.dockEnabled)\n            if (this._stackParent.isColumn || this._stackParent.isColumn) {\n                this._stackParent.dock(this, mode);\n            }\n    }\n    updateSize() {\n        this.updateNodeSize();\n        this.updateContentItemsSize();\n    }\n    /** @internal */\n    init() {\n        if (this.isInitialised === true)\n            return;\n        this.updateNodeSize();\n        for (let i = 0; i < this.contentItems.length; i++) {\n            this._childElementContainer.appendChild(this.contentItems[i].element);\n        }\n        super.init();\n        const contentItems = this.contentItems;\n        const contentItemCount = contentItems.length;\n        if (contentItemCount > 0) { // contentItemCount will be 0 on drag drop\n            if (this._initialActiveItemIndex < 0 || this._initialActiveItemIndex >= contentItemCount) {\n                throw new Error(`ActiveItemIndex out of range: ${this._initialActiveItemIndex} id: ${this.id}`);\n            }\n            else {\n                for (let i = 0; i < contentItemCount; i++) {\n                    const contentItem = contentItems[i];\n                    if (!(contentItem instanceof component_item_1.ComponentItem)) {\n                        throw new Error(`Stack Content Item is not of type ComponentItem: ${i} id: ${this.id}`);\n                    }\n                    else {\n                        this._header.createTab(contentItem, i);\n                        contentItem.hide();\n                    }\n                }\n                this.setActiveComponentItem(contentItems[this._initialActiveItemIndex], false);\n                this._header.updateTabSizes();\n            }\n        }\n        this._header.updateClosability();\n        if (this._stackParent.isRow || this._stackParent.isColumn) {\n            this._stackParent.validateDocking();\n        }\n        this.initContentItems();\n    }\n    /** @deprecated Use {@link (Stack:class).setActiveComponentItem} */\n    setActiveContentItem(item) {\n        if (!content_item_1.ContentItem.isComponentItem(item)) {\n            throw new Error('Stack.setActiveContentItem: item is not a ComponentItem');\n        }\n        else {\n            this.setActiveComponentItem(item, false);\n        }\n    }\n    setActiveComponentItem(componentItem, focus, suppressFocusEvent = false) {\n        if (this._activeComponentItem !== componentItem) {\n            if (this.contentItems.indexOf(componentItem) === -1) {\n                throw new Error('componentItem is not a child of this stack');\n            }\n            else {\n                if (this._activeComponentItem !== undefined) {\n                    this._activeComponentItem.hide();\n                }\n                this._activeComponentItem = componentItem;\n                this._header.processActiveComponentChanged(componentItem);\n                componentItem.show();\n                this.emit('activeContentItemChanged', componentItem);\n                this.layoutManager.emit('activeContentItemChanged', componentItem);\n                this.emitStateChangedEvent();\n            }\n        }\n        if (this.focused || focus) {\n            this.layoutManager.setFocusedComponentItem(componentItem, suppressFocusEvent);\n        }\n    }\n    /** @deprecated Use {@link (Stack:class).getActiveComponentItem} */\n    getActiveContentItem() {\n        let result;\n        result = this.getActiveComponentItem();\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n    getActiveComponentItem() {\n        return this._activeComponentItem;\n    }\n    /** @internal */\n    focusActiveContentItem() {\n        this._activeComponentItem.focus();\n    }\n    /** @internal */\n    setFocusedValue(value) {\n        this._header.applyFocusedValue(value);\n        super.setFocusedValue(value);\n    }\n    /** @internal */\n    setDocked(value) {\n        if (!value.docked) {\n            throw new internal_error_1.AssertError('SSD3396');\n        }\n        else {\n            this._docker = value;\n        }\n    }\n    /** @internal */\n    setUndocked() {\n        this._docker = {\n            docked: false,\n            dimension: 'width',\n            size: 0,\n            realSize: 0, // value ignored\n        };\n    }\n    /** @internal */\n    setDockable(value) {\n        this._header.setDockable(value);\n    }\n    /** @internal */\n    setRowColumnClosable(value) {\n        this._header.setRowColumnClosable(value);\n    }\n    newComponent(componentType, componentState, title, index) {\n        const itemConfig = {\n            type: 'component',\n            componentType,\n            componentState,\n            title,\n        };\n        return this.newItem(itemConfig, index);\n    }\n    addComponent(componentType, componentState, title, index) {\n        const itemConfig = {\n            type: 'component',\n            componentType,\n            componentState,\n            title,\n        };\n        return this.addItem(itemConfig, index);\n    }\n    newItem(itemConfig, index) {\n        index = this.addItem(itemConfig, index);\n        return this.contentItems[index];\n    }\n    addItem(itemConfig, index) {\n        this.layoutManager.checkMinimiseMaximisedStack();\n        const resolvedItemConfig = config_1.ItemConfig.resolve(itemConfig);\n        const contentItem = this.layoutManager.createAndInitContentItem(resolvedItemConfig, this);\n        return this.addChild(contentItem, index);\n    }\n    addChild(contentItem, index, focus = false) {\n        if (index !== undefined && index > this.contentItems.length) {\n            index -= 1;\n            throw new internal_error_1.AssertError('SAC99728'); // undisplayChild() removed so this condition should no longer occur\n        }\n        if (!(contentItem instanceof component_item_1.ComponentItem)) {\n            throw new internal_error_1.AssertError('SACC88532'); // Stacks can only have Component children\n        }\n        else {\n            index = super.addChild(contentItem, index);\n            this._childElementContainer.appendChild(contentItem.element);\n            this._header.createTab(contentItem, index);\n            this.setActiveComponentItem(contentItem, focus);\n            this._header.updateTabSizes();\n            this.updateSize();\n            this._header.updateClosability();\n            if (this._stackParent.isRow || this._stackParent.isColumn) {\n                this._stackParent.validateDocking();\n            }\n            this.emitStateChangedEvent();\n            return index;\n        }\n    }\n    removeChild(contentItem, keepChild) {\n        const componentItem = contentItem;\n        const index = this.contentItems.indexOf(componentItem);\n        const stackWillBeDeleted = this.contentItems.length === 1;\n        if (this._activeComponentItem === componentItem) {\n            if (componentItem.focused) {\n                componentItem.blur();\n            }\n            if (!stackWillBeDeleted) {\n                // At this point we're already sure we have at least one content item left *after*\n                // removing contentItem, so we can safely assume index 1 is a valid one if \n                // the index of contentItem is 0, otherwise we just use the previous content item.\n                const newActiveComponentIdx = index === 0 ? 1 : index - 1;\n                this.setActiveComponentItem(this.contentItems[newActiveComponentIdx], false);\n            }\n        }\n        this._header.removeTab(componentItem);\n        super.removeChild(componentItem, keepChild);\n        if (!stackWillBeDeleted) {\n            this._header.updateClosability();\n            if (this._stackParent.isRow || this._stackParent.isColumn) {\n                this._stackParent.validateDocking();\n            }\n        }\n        this.emitStateChangedEvent();\n    }\n    /**\n     * Maximises the Item or minimises it if it is already maximised\n     */\n    toggleMaximise() {\n        if (this.isMaximised) {\n            this.minimise();\n        }\n        else {\n            this.maximise();\n        }\n    }\n    maximise() {\n        if (!this.isMaximised) {\n            this.dock(false);\n            this.layoutManager.setMaximisedStack(this);\n            this.emitStateChangedEvent();\n        }\n    }\n    minimise() {\n        if (this.isMaximised) {\n            this.layoutManager.setMaximisedStack(undefined);\n            this.emitStateChangedEvent();\n        }\n    }\n    /** @internal */\n    destroy() {\n        if (this._activeComponentItem.focused) {\n            this._activeComponentItem.blur();\n        }\n        super.destroy();\n        this.off('resize', this._resizeListener);\n        if (this._maximisedEnabled) {\n            this.off('maximised', this._maximisedListener);\n            this.off('minimised', this._minimisedListener);\n        }\n        this.element.removeEventListener('mouseenter', this._elementMouseEnterEventListener);\n        this.element.removeEventListener('mouseleave', this._elementMouseLeaveEventListener);\n        this._header.destroy();\n    }\n    toConfig() {\n        const activeItemIndex = this.contentItems.indexOf(this._activeComponentItem);\n        if (activeItemIndex < 0) {\n            throw new internal_error_1.AssertError('STC69221');\n        }\n        else {\n            const result = {\n                type: 'stack',\n                content: this.calculateConfigContent(),\n                width: this.width,\n                minWidth: this.minWidth,\n                height: this.height,\n                minHeight: this.minHeight,\n                id: this.id,\n                isClosable: this.isClosable,\n                maximised: this.isMaximised,\n                header: this.createHeaderConfig(),\n                activeItemIndex,\n            };\n            return result;\n        }\n    }\n    /**\n     * Ok, this one is going to be the tricky one: The user has dropped a {@link (ContentItem:class)} onto this stack.\n     *\n     * It was dropped on either the stacks header or the top, right, bottom or left bit of the content area\n     * (which one of those is stored in this._dropSegment). Now, if the user has dropped on the header the case\n     * is relatively clear: We add the item to the existing stack... job done (might be good to have\n     * tab reordering at some point, but lets not sweat it right now)\n     *\n     * If the item was dropped on the content part things are a bit more complicated. If it was dropped on either the\n     * top or bottom region we need to create a new column and place the items accordingly.\n     * Unless, of course if the stack is already within a column... in which case we want\n     * to add the newly created item to the existing column...\n     * either prepend or append it, depending on wether its top or bottom.\n     *\n     * Same thing for rows and left / right drop segments... so in total there are 9 things that can potentially happen\n     * (left, top, right, bottom) * is child of the right parent (row, column) + header drop\n     *\n     * @internal\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    onDrop(contentItem, area) {\n        /*\n         * The item was dropped on the header area. Just add it as a child of this stack and\n         * get the hell out of this logic\n         */\n        if (this._dropSegment === \"header\" /* Header */) {\n            this.resetHeaderDropZone();\n            if (this._dropIndex === undefined) {\n                throw new internal_error_1.UnexpectedUndefinedError('SODDI68990');\n            }\n            else {\n                this.addChild(contentItem, this._dropIndex);\n                return;\n            }\n        }\n        /*\n         * The stack is empty. Let's just add the element.\n         */\n        if (this._dropSegment === \"body\" /* Body */) {\n            this.addChild(contentItem, 0, true);\n            return;\n        }\n        /*\n         * The item was dropped on the top-, left-, bottom- or right- part of the content. Let's\n         * aggregate some conditions to make the if statements later on more readable\n         */\n        const isVertical = this._dropSegment === \"top\" /* Top */ || this._dropSegment === \"bottom\" /* Bottom */;\n        const isHorizontal = this._dropSegment === \"left\" /* Left */ || this._dropSegment === \"right\" /* Right */;\n        const insertBefore = this._dropSegment === \"top\" /* Top */ || this._dropSegment === \"left\" /* Left */;\n        const hasCorrectParent = (isVertical && this._stackParent.isColumn) || (isHorizontal && this._stackParent.isRow);\n        const dimension = isVertical ? 'height' : 'width';\n        /*\n         * The content item can be either a component or a stack. If it is a component, wrap it into a stack\n         */\n        if (contentItem.isComponent) {\n            const itemConfig = resolved_config_1.ResolvedStackItemConfig.createDefault();\n            itemConfig.header = this.createHeaderConfig();\n            const stack = this.layoutManager.createAndInitContentItem(itemConfig, this);\n            stack.addChild(contentItem);\n            contentItem = stack;\n        }\n        /*\n         * If the contentItem that's being dropped is not dropped on a Stack (cases which just passed above and\n         * which would wrap the contentItem in a Stack) we need to check whether contentItem is a RowOrColumn.\n         * If it is, we need to re-wrap it in a Stack like it was when it was dragged by its Tab (it was dragged!).\n         */\n        if (contentItem.type === types_1.ItemType.row || contentItem.type === types_1.ItemType.column) {\n            const itemConfig = resolved_config_1.ResolvedStackItemConfig.createDefault();\n            itemConfig.header = this.createHeaderConfig();\n            const stack = this.layoutManager.createContentItem(itemConfig, this);\n            stack.addChild(contentItem);\n            contentItem = stack;\n        }\n        /*\n         * If the item is dropped on top or bottom of a column or left and right of a row, it's already\n         * layd out in the correct way. Just add it as a child\n         */\n        if (hasCorrectParent) {\n            const index = this._stackParent.contentItems.indexOf(this);\n            this._stackParent.addChild(contentItem, insertBefore ? index : index + 1, true);\n            this[dimension] *= 0.5;\n            contentItem[dimension] = this[dimension];\n            this._stackParent.updateSize();\n            /*\n             * This handles items that are dropped on top or bottom of a row or left / right of a column. We need\n             * to create the appropriate contentItem for them to live in\n             */\n        }\n        else {\n            const type = isVertical ? types_1.ItemType.column : types_1.ItemType.row;\n            const itemConfig = resolved_config_1.ResolvedItemConfig.createDefault(type);\n            const rowOrColumn = this.layoutManager.createContentItem(itemConfig, this);\n            this._stackParent.replaceChild(this, rowOrColumn);\n            rowOrColumn.addChild(contentItem, insertBefore ? 0 : undefined, true);\n            rowOrColumn.addChild(this, insertBefore ? undefined : 0, true);\n            this[dimension] = 50;\n            contentItem[dimension] = 50;\n            rowOrColumn.updateSize();\n        }\n        this._stackParent.validateDocking();\n    }\n    /**\n     * If the user hovers above the header part of the stack, indicate drop positions for tabs.\n     * otherwise indicate which segment of the body the dragged item would be dropped on\n     *\n     * @param x - Absolute Screen X\n     * @param y - Absolute Screen Y\n     * @internal\n     */\n    highlightDropZone(x, y) {\n        for (const key in this._contentAreaDimensions) {\n            const segment = key;\n            const area = this._contentAreaDimensions[segment].hoverArea;\n            if (area.x1 < x && area.x2 > x && area.y1 < y && area.y2 > y) {\n                if (segment === \"header\" /* Header */) {\n                    this._dropSegment = \"header\" /* Header */;\n                    this.highlightHeaderDropZone(this._header.leftRightSided ? y : x);\n                }\n                else {\n                    this.resetHeaderDropZone();\n                    this.highlightBodyDropZone(segment);\n                }\n                return;\n            }\n        }\n    }\n    /** @internal */\n    getArea() {\n        if (this.element.style.display === 'none') {\n            return null;\n        }\n        const headerArea = super.getElementArea(this._header.element);\n        const contentArea = super.getElementArea(this._childElementContainer);\n        if (headerArea === null || contentArea === null) {\n            throw new internal_error_1.UnexpectedNullError('SGAHC13086');\n        }\n        const contentWidth = contentArea.x2 - contentArea.x1;\n        const contentHeight = contentArea.y2 - contentArea.y1;\n        this._contentAreaDimensions = {\n            header: {\n                hoverArea: {\n                    x1: headerArea.x1,\n                    y1: headerArea.y1,\n                    x2: headerArea.x2,\n                    y2: headerArea.y2\n                },\n                highlightArea: {\n                    x1: headerArea.x1,\n                    y1: headerArea.y1,\n                    x2: headerArea.x2,\n                    y2: headerArea.y2\n                }\n            }\n        };\n        /**\n         * Highlight the entire body if the stack is empty\n         */\n        if (this.contentItems.length === 0) {\n            this._contentAreaDimensions.body = {\n                hoverArea: {\n                    x1: contentArea.x1,\n                    y1: contentArea.y1,\n                    x2: contentArea.x2,\n                    y2: contentArea.y2\n                },\n                highlightArea: {\n                    x1: contentArea.x1,\n                    y1: contentArea.y1,\n                    x2: contentArea.x2,\n                    y2: contentArea.y2\n                }\n            };\n            return super.getElementArea(this.element);\n        }\n        else {\n            this._contentAreaDimensions.left = {\n                hoverArea: {\n                    x1: contentArea.x1,\n                    y1: contentArea.y1,\n                    x2: contentArea.x1 + contentWidth * 0.25,\n                    y2: contentArea.y2\n                },\n                highlightArea: {\n                    x1: contentArea.x1,\n                    y1: contentArea.y1,\n                    x2: contentArea.x1 + contentWidth * 0.5,\n                    y2: contentArea.y2\n                }\n            };\n            this._contentAreaDimensions.top = {\n                hoverArea: {\n                    x1: contentArea.x1 + contentWidth * 0.25,\n                    y1: contentArea.y1,\n                    x2: contentArea.x1 + contentWidth * 0.75,\n                    y2: contentArea.y1 + contentHeight * 0.5\n                },\n                highlightArea: {\n                    x1: contentArea.x1,\n                    y1: contentArea.y1,\n                    x2: contentArea.x2,\n                    y2: contentArea.y1 + contentHeight * 0.5\n                }\n            };\n            this._contentAreaDimensions.right = {\n                hoverArea: {\n                    x1: contentArea.x1 + contentWidth * 0.75,\n                    y1: contentArea.y1,\n                    x2: contentArea.x2,\n                    y2: contentArea.y2\n                },\n                highlightArea: {\n                    x1: contentArea.x1 + contentWidth * 0.5,\n                    y1: contentArea.y1,\n                    x2: contentArea.x2,\n                    y2: contentArea.y2\n                }\n            };\n            this._contentAreaDimensions.bottom = {\n                hoverArea: {\n                    x1: contentArea.x1 + contentWidth * 0.25,\n                    y1: contentArea.y1 + contentHeight * 0.5,\n                    x2: contentArea.x1 + contentWidth * 0.75,\n                    y2: contentArea.y2\n                },\n                highlightArea: {\n                    x1: contentArea.x1,\n                    y1: contentArea.y1 + contentHeight * 0.5,\n                    x2: contentArea.x2,\n                    y2: contentArea.y2\n                }\n            };\n            return super.getElementArea(this.element);\n        }\n    }\n    /**\n     * Programmatically operate with header position.\n     *\n     * @param position -\n     *\n     * @returns previous header position\n     * @internal\n     */\n    positionHeader(position) {\n        if (this._docker.docked) {\n            throw new Error('Can\\'t change header position in docked stack');\n        }\n        if (this._header.side !== position) {\n            this._header.setSide(position);\n            this._headerSideChanged = true;\n            this.setupHeaderPosition();\n        }\n    }\n    /** @internal */\n    setParent(parent) {\n        this._stackParent = parent;\n        super.setParent(parent);\n    }\n    /** @internal */\n    updateNodeSize() {\n        if (this.element.style.display !== 'none') {\n            const isDocked = this._docker.docked;\n            const content = utils_1.getElementWidthAndHeight(this.element);\n            if (this._header.show) {\n                const dimension = this._header.leftRightSided ? types_1.WidthOrHeightPropertyName.width : types_1.WidthOrHeightPropertyName.height;\n                content[dimension] -= this.layoutManager.layoutConfig.dimensions.headerHeight;\n            }\n            if (isDocked) {\n                content[this._docker.dimension] = this._docker.realSize;\n            }\n            if (!isDocked || this._docker.dimension === types_1.WidthOrHeightPropertyName.height) {\n                this._childElementContainer.style.width = utils_1.numberToPixels(content.width);\n            }\n            if (!isDocked || this._docker.dimension === types_1.WidthOrHeightPropertyName.width) {\n                this._childElementContainer.style.height = utils_1.numberToPixels(content.height);\n            }\n            for (let i = 0; i < this.contentItems.length; i++) {\n                this.contentItems[i].element.style.width = utils_1.numberToPixels(content.width);\n                this.contentItems[i].element.style.height = utils_1.numberToPixels(content.height);\n            }\n            this.emit('resize');\n            this.emitStateChangedEvent();\n        }\n    }\n    /** @internal */\n    highlightHeaderDropZone(x) {\n        const tabsLength = this._header.tabs.length;\n        const dropTargetIndicator = this.layoutManager.dropTargetIndicator;\n        if (dropTargetIndicator === null) {\n            throw new internal_error_1.UnexpectedNullError('SHHDZDTI97110');\n        }\n        let area;\n        // Empty stack\n        if (tabsLength === 0) {\n            const headerOffset = jquery_legacy_1.getJQueryOffset(this._header.element);\n            const elementHeight = utils_1.getElementHeight(this._header.element);\n            area = {\n                x1: headerOffset.left,\n                x2: headerOffset.left + 100,\n                y1: headerOffset.top + elementHeight - 20,\n                y2: headerOffset.top + elementHeight,\n            };\n        }\n        else {\n            let tabIndex = 0;\n            let isAboveTab = false;\n            let tabTop;\n            let tabLeft;\n            let tabWidth;\n            let tabElement;\n            do {\n                tabElement = this._header.tabs[tabIndex].element;\n                const offset = jquery_legacy_1.getJQueryOffset(tabElement);\n                if (this._header.leftRightSided) {\n                    tabLeft = offset.top;\n                    tabTop = offset.left;\n                    tabWidth = utils_1.getElementHeight(tabElement);\n                }\n                else {\n                    tabLeft = offset.left;\n                    tabTop = offset.top;\n                    tabWidth = utils_1.getElementWidth(tabElement);\n                }\n                if (x > tabLeft && x < tabLeft + tabWidth) {\n                    isAboveTab = true;\n                }\n                else {\n                    tabIndex++;\n                }\n            } while (tabIndex < tabsLength && !isAboveTab);\n            if (isAboveTab === false && x < tabLeft) {\n                return;\n            }\n            const halfX = tabLeft + tabWidth / 2;\n            if (x < halfX) {\n                this._dropIndex = tabIndex;\n                tabElement.insertAdjacentElement('beforebegin', this.layoutManager.tabDropPlaceholder);\n            }\n            else {\n                this._dropIndex = Math.min(tabIndex + 1, tabsLength);\n                tabElement.insertAdjacentElement('afterend', this.layoutManager.tabDropPlaceholder);\n            }\n            const tabDropPlaceholderOffset = jquery_legacy_1.getJQueryOffset(this.layoutManager.tabDropPlaceholder);\n            const tabDropPlaceholderWidth = utils_1.getElementWidth(this.layoutManager.tabDropPlaceholder);\n            if (this._header.leftRightSided) {\n                const placeHolderTop = tabDropPlaceholderOffset.top;\n                area = {\n                    x1: tabTop,\n                    x2: tabTop + tabElement.clientHeight,\n                    y1: placeHolderTop,\n                    y2: placeHolderTop + tabDropPlaceholderWidth,\n                };\n            }\n            else {\n                const placeHolderLeft = tabDropPlaceholderOffset.left;\n                area = {\n                    x1: placeHolderLeft,\n                    x2: placeHolderLeft + tabDropPlaceholderWidth,\n                    y1: tabTop,\n                    y2: tabTop + tabElement.clientHeight,\n                };\n            }\n        }\n        dropTargetIndicator.highlightArea(area);\n        return;\n    }\n    /** @internal */\n    resetHeaderDropZone() {\n        this.layoutManager.tabDropPlaceholder.remove();\n    }\n    /** @internal */\n    setupHeaderPosition() {\n        utils_1.setElementDisplayVisibility(this._header.element, this._header.show);\n        this.element.classList.remove(\"lm_left\" /* Left */, \"lm_right\" /* Right */, \"lm_bottom\" /* Bottom */);\n        if (this._header.leftRightSided) {\n            this.element.classList.add('lm_' + this._header.side);\n        }\n        //if ([Side.right, Side.bottom].includes(this._header.side)) {\n        //    // move the header behind the content.\n        //    this.element.appendChild(this._header.element);  \n        //}\n        this.updateSize();\n    }\n    /** @internal */\n    highlightBodyDropZone(segment) {\n        if (this._contentAreaDimensions === undefined) {\n            throw new internal_error_1.UnexpectedUndefinedError('SHBDZC82265');\n        }\n        else {\n            const highlightArea = this._contentAreaDimensions[segment].highlightArea;\n            const dropTargetIndicator = this.layoutManager.dropTargetIndicator;\n            if (dropTargetIndicator === null) {\n                throw new internal_error_1.UnexpectedNullError('SHBDZD96110');\n            }\n            else {\n                dropTargetIndicator.highlightArea(highlightArea);\n                this._dropSegment = segment;\n            }\n        }\n    }\n    /** @internal */\n    handleResize() {\n        this._header.updateTabSizes();\n    }\n    /** @internal */\n    handleMaximised() {\n        this._header.processMaximised();\n    }\n    /** @internal */\n    handleMinimised() {\n        this._header.processMinimised();\n    }\n    /** @internal */\n    onElementMouseEnter() {\n        if (this._docker.docked) {\n            this._childElementContainer.style[this._docker.dimension] = utils_1.numberToPixels(this._docker.realSize);\n        }\n    }\n    /** @internal */\n    onElementMouseLeave() {\n        if (this._docker.docked) {\n            this._childElementContainer.style[this._docker.dimension] = utils_1.numberToPixels(0);\n        }\n    }\n    /** @internal */\n    handleDockEvent() {\n        this.dock();\n    }\n    /** @internal */\n    handlePopoutEvent() {\n        this.popout();\n    }\n    /** @internal */\n    handleHeaderClickEvent(ev) {\n        const eventName = event_emitter_1.EventEmitter.headerClickEventName;\n        const bubblingEvent = new event_emitter_1.EventEmitter.ClickBubblingEvent(eventName, this, ev);\n        this.emit(eventName, bubblingEvent);\n    }\n    /** @internal */\n    handleHeaderTouchStartEvent(ev) {\n        const eventName = event_emitter_1.EventEmitter.headerTouchStartEventName;\n        const bubblingEvent = new event_emitter_1.EventEmitter.TouchStartBubblingEvent(eventName, this, ev);\n        this.emit(eventName, bubblingEvent);\n    }\n    /** @internal */\n    handleHeaderComponentRemoveEvent(item) {\n        this.removeChild(item, false);\n    }\n    /** @internal */\n    handleHeaderComponentFocusEvent(item) {\n        this.setActiveComponentItem(item, true);\n    }\n    /** @internal */\n    handleHeaderComponentStartDragEvent(x, y, dragListener, componentItem) {\n        if (this.isMaximised === true) {\n            this.toggleMaximise();\n        }\n        this.layoutManager.startComponentDrag(x, y, dragListener, componentItem, this);\n    }\n    /** @internal */\n    createHeaderConfig() {\n        if (!this._headerSideChanged) {\n            return resolved_config_1.ResolvedHeaderedItemConfig.Header.createCopy(this._headerConfig);\n        }\n        else {\n            const show = this._header.show ? this._header.side : false;\n            let result = resolved_config_1.ResolvedHeaderedItemConfig.Header.createCopy(this._headerConfig, show);\n            if (result === undefined) {\n                result = {\n                    show,\n                    popout: undefined,\n                    dock: undefined,\n                    maximise: undefined,\n                    close: undefined,\n                    minimise: undefined,\n                    tabDropdown: undefined,\n                };\n            }\n            return result;\n        }\n    }\n    /** @internal */\n    emitStateChangedEvent() {\n        this.emitBaseBubblingEvent('stateChanged');\n    }\n}\nexports.Stack = Stack;\n/** @public */\n(function (Stack) {\n    /** @internal */\n    function createElement(document) {\n        const element = document.createElement('div');\n        element.classList.add(\"lm_item\" /* Item */);\n        element.classList.add(\"lm_stack\" /* Stack */);\n        return element;\n    }\n    Stack.createElement = createElement;\n})(Stack = exports.Stack || (exports.Stack = {}));\n//# sourceMappingURL=stack.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Stack","config_1","resolved_config_1","header_1","internal_error_1","event_emitter_1","jquery_legacy_1","types_1","utils_1","component_item_1","component_parentable_item_1","content_item_1","ComponentParentableItem","layoutManager","config","_stackParent","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","createElement","document","_headerSideChanged","_elementMouseEnterEventListener","this._elementMouseEnterEventListener","onElementMouseEnter","_elementMouseLeaveEventListener","this._elementMouseLeaveEventListener","onElementMouseLeave","_resizeListener","this._resizeListener","handleResize","_maximisedListener","this._maximisedListener","handleMaximised","_minimisedListener","this._minimisedListener","handleMinimised","_headerConfig","header","layoutHeaderConfig","layoutConfig","configContent","content","componentHeaderConfig","length","undefined","firstChildItemConfig","_initialWantMaximise","maximised","_initialActiveItemIndex","activeItemIndex","show","popout","dock","maximise","close","minimise","tabDropdown","_maximisedEnabled","_header","Header","headerSettings","side","Side","top","popoutEnabled","popoutLabel","dockEnabled","dockLabel","maximiseEnabled","maximiseLabel","closeEnabled","closeLabel","minimiseEnabled","minimiseLabel","tabDropdownEnabled","tabDropdownLabel","isClosable","getActiveComponentItem","remove","handleDockEvent","handlePopoutEvent","toggleMaximise","ev","handleHeaderClickEvent","handleHeaderTouchStartEvent","item","handleHeaderComponentRemoveEvent","handleHeaderComponentFocusEvent","x","y","dragListener","handleHeaderComponentStartDragEvent","isStack","_childElementContainer","classList","add","on","element","addEventListener","passive","appendChild","setUndocked","setupHeaderPosition","updateClosability","leftRightSided","_docker","_contentAreaDimensions","maximisedStack","mode","isColumn","updateNodeSize","updateContentItemsSize","isInitialised","i","contentItems","init","contentItemCount","Error","id","contentItem","ComponentItem","createTab","hide","setActiveComponentItem","updateTabSizes","isRow","validateDocking","initContentItems","ContentItem","isComponentItem","componentItem","focus","suppressFocusEvent","_activeComponentItem","indexOf","processActiveComponentChanged","emit","emitStateChangedEvent","focused","setFocusedComponentItem","result","applyFocusedValue","setFocusedValue","docked","AssertError","dimension","size","realSize","setDockable","setRowColumnClosable","componentType","componentState","title","index","newItem","itemConfig","type","addItem","checkMinimiseMaximisedStack","resolvedItemConfig","ItemConfig","resolve","createAndInitContentItem","addChild","updateSize","keepChild","stackWillBeDeleted","blur","newActiveComponentIdx","removeTab","removeChild","isMaximised","setMaximisedStack","destroy","off","removeEventListener","calculateConfigContent","width","minWidth","height","minHeight","createHeaderConfig","area","_dropSegment","resetHeaderDropZone","_dropIndex","UnexpectedUndefinedError","isVertical","isHorizontal","insertBefore","hasCorrectParent","isComponent","ResolvedStackItemConfig","createDefault","stack","ItemType","row","column","createContentItem","ResolvedItemConfig","rowOrColumn","replaceChild","key","segment","hoverArea","x1","x2","y1","y2","highlightHeaderDropZone","highlightBodyDropZone","style","display","headerArea","getElementArea","contentArea","UnexpectedNullError","contentWidth","contentHeight","highlightArea","body","left","right","bottom","position","setSide","parent","setParent","isDocked","getElementWidthAndHeight","WidthOrHeightPropertyName","dimensions","headerHeight","numberToPixels","tabsLength","tabs","dropTargetIndicator","headerOffset","getJQueryOffset","elementHeight","getElementHeight","tabIndex","isAboveTab","tabLeft","tabWidth","tabElement","offset","tabTop","getElementWidth","insertAdjacentElement","tabDropPlaceholder","Math","min","tabDropPlaceholderOffset","tabDropPlaceholderWidth","placeHolderTop","clientHeight","placeHolderLeft","setElementDisplayVisibility","processMaximised","processMinimised","eventName","EventEmitter","headerClickEventName","bubblingEvent","ClickBubblingEvent","headerTouchStartEventName","TouchStartBubblingEvent","startComponentDrag","ResolvedHeaderedItemConfig","createCopy","emitBaseBubblingEvent"]
}
