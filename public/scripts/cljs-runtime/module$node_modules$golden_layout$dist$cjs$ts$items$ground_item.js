shadow$provide.module$node_modules$golden_layout$dist$cjs$ts$items$ground_item=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.GroundItem=void 0;const config_1=require("module$node_modules$golden_layout$dist$cjs$ts$config$config"),resolved_config_1=require("module$node_modules$golden_layout$dist$cjs$ts$config$resolved_config"),internal_error_1=require("module$node_modules$golden_layout$dist$cjs$ts$errors$internal_error"),types_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$types"),
utils_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$utils"),component_item_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$component_item");global=require("module$node_modules$golden_layout$dist$cjs$ts$items$component_parentable_item");const content_item_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$content_item"),row_or_column_1=require("module$node_modules$golden_layout$dist$cjs$ts$items$row_or_column");class GroundItem extends global.ComponentParentableItem{constructor(layoutManager,
rootItemConfig,containerElement){super(layoutManager,resolved_config_1.ResolvedGroundItemConfig.create(rootItemConfig),null,GroundItem.createElement(document));this.isGround=!0;this._childElementContainer=this.element;this._containerElement=containerElement;this._containerElement.appendChild(this.element)}init(){if(!0!==this.isInitialised){this.updateNodeSize();for(let i=0;i<this.contentItems.length;i++)this._childElementContainer.appendChild(this.contentItems[i].element);super.init();this.initContentItems()}}loadRoot(rootItemConfig){this.clearRoot();
void 0!==rootItemConfig&&(rootItemConfig=this.layoutManager.createAndInitContentItem(rootItemConfig,this),this.addChild(rootItemConfig,0))}addItem(itemConfig,index){this.layoutManager.checkMinimiseMaximisedStack();var resolvedItemConfig=config_1.ItemConfig.resolve(itemConfig);itemConfig=0<this.contentItems.length?this.contentItems[0]:this;if(itemConfig.isComponent)throw Error("Cannot add item as child to ComponentItem");resolvedItemConfig=this.layoutManager.createAndInitContentItem(resolvedItemConfig,
itemConfig);index=itemConfig.addChild(resolvedItemConfig,index);return itemConfig===this?-1:index}loadComponentAsRoot(itemConfig){this.clearRoot();itemConfig=config_1.ItemConfig.resolve(itemConfig);if(itemConfig.maximised)throw Error("Root Component cannot be maximised");itemConfig=new component_item_1.ComponentItem(this.layoutManager,itemConfig,this);itemConfig.init();this.addChild(itemConfig,0)}addChild(contentItem,index){if(0<this.contentItems.length)throw Error("Ground node can only have a single child");
this._childElementContainer.appendChild(contentItem.element);index=super.addChild(contentItem,index);this.updateSize();this.emitBaseBubblingEvent("stateChanged");return index}calculateConfigContent(){const contentItems=this.contentItems,count=contentItems.length,result=Array(count);for(let i=0;i<count;i++){const itemConfig=contentItems[i].toConfig();if(resolved_config_1.ResolvedRootItemConfig.isRootItemConfig(itemConfig))result[i]=itemConfig;else throw new internal_error_1.AssertError("RCCC66832");
}return result}setSize(width,height){void 0===width||void 0===height?this.updateSize():(utils_1.setElementWidth(this.element,width),utils_1.setElementHeight(this.element,height),0<this.contentItems.length&&(utils_1.setElementWidth(this.contentItems[0].element,width),utils_1.setElementHeight(this.contentItems[0].element,height)),this.updateContentItemsSize())}updateSize(){this.updateNodeSize();this.updateContentItemsSize()}createSideAreas(){const oppositeSides=GroundItem.Area.oppositeSides,result=
Array(Object.keys(oppositeSides).length);let idx=0;for(const key in oppositeSides){const side=key,area=this.getElementArea();if(null===area)throw new internal_error_1.UnexpectedNullError("RCSA77553");area.side=side;area[side]="2"===oppositeSides[side][1]?area[oppositeSides[side]]-50:area[oppositeSides[side]]+50;area.surface=(area.x2-area.x1)*(area.y2-area.y1);result[idx++]=area}return result}highlightDropZone(x,y,area){this.layoutManager.tabDropPlaceholder.remove();super.highlightDropZone(x,y,area)}onDrop(contentItem,
area){if(contentItem.isComponent){var itemConfig=resolved_config_1.ResolvedStackItemConfig.createDefault();itemConfig.header=resolved_config_1.ResolvedHeaderedItemConfig.Header.createCopy(contentItem.headerConfig);itemConfig=this.layoutManager.createAndInitContentItem(itemConfig,this);itemConfig.addChild(contentItem);contentItem=itemConfig}if(0===this.contentItems.length)this.addChild(contentItem);else{if(contentItem.type===types_1.ItemType.row||contentItem.type===types_1.ItemType.column)itemConfig=
resolved_config_1.ResolvedStackItemConfig.createDefault(),itemConfig=this.layoutManager.createContentItem(itemConfig,this),itemConfig.addChild(contentItem),contentItem=itemConfig;var type="x"==area.side[0]?types_1.ItemType.row:types_1.ItemType.column;itemConfig="x"==area.side[0]?"width":"height";area="2"==area.side[1];const column=this.contentItems[0];column instanceof row_or_column_1.RowOrColumn&&column.type===type?(type=column.contentItems[area?0:column.contentItems.length-1],column.addChild(contentItem,
area?0:void 0,!0),type[itemConfig]*=.5,contentItem[itemConfig]=type[itemConfig],column.updateSize()):(type=resolved_config_1.ResolvedItemConfig.createDefault(type),type=this.layoutManager.createContentItem(type,this),this.replaceChild(column,type),type.addChild(contentItem,area?0:void 0,!0),type.addChild(column,area?void 0:0,!0),column[itemConfig]=50,contentItem[itemConfig]=50,type.updateSize())}}dock(){throw new internal_error_1.AssertError("GID87731");}validateDocking(){throw new internal_error_1.AssertError("GIVD87732");
}getAllContentItems(){const result=[this];this.deepGetAllContentItems(this.contentItems,result);return result}getConfigMaximisedItems(){const result=[];this.deepFilterContentItems(this.contentItems,result,item=>content_item_1.ContentItem.isStack(item)&&item.initialWantMaximise?!0:content_item_1.ContentItem.isComponentItem(item)&&item.initialWantMaximise?!0:!1);return result}getItemsByPopInParentId(popInParentId){const result=[];this.deepFilterContentItems(this.contentItems,result,item=>item.popInParentIds.includes(popInParentId));
return result}toConfig(){throw Error("Cannot generate GroundItem config");}setActiveComponentItem(item,focus,suppressFocusEvent){}updateNodeSize(){const {width,height}=utils_1.getElementWidthAndHeight(this._containerElement);utils_1.setElementWidth(this.element,width);utils_1.setElementHeight(this.element,height);0<this.contentItems.length&&(utils_1.setElementWidth(this.contentItems[0].element,width),utils_1.setElementHeight(this.contentItems[0].element,height))}clearRoot(){const contentItems=this.contentItems;
switch(contentItems.length){case 0:break;case 1:contentItems[0].remove();break;default:throw new internal_error_1.AssertError("GILR07721");}}deepGetAllContentItems(content,result){for(let i=0;i<content.length;i++){const contentItem=content[i];result.push(contentItem);this.deepGetAllContentItems(contentItem.contentItems,result)}}deepFilterContentItems(content,result,checkAcceptFtn){for(let i=0;i<content.length;i++){const contentItem=content[i];checkAcceptFtn(contentItem)&&result.push(contentItem);
this.deepFilterContentItems(contentItem.contentItems,result,checkAcceptFtn)}}}exports.GroundItem=GroundItem;(function(GroundItem){(GroundItem.Area||(GroundItem.Area={})).oppositeSides={y2:"y1",x2:"x1",y1:"y2",x1:"x2"};GroundItem.createElement=function(document){document=document.createElement("div");document.classList.add("lm_goldenlayout");document.classList.add("lm_item");document.classList.add("lm_root");return document}})(GroundItem=exports.GroundItem||(exports.GroundItem={}))}
//# sourceMappingURL=module$node_modules$golden_layout$dist$cjs$ts$items$ground_item.js.map
