shadow$provide.module$node_modules$golden_layout$dist$cjs$ts$utils$event_hub=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.EventHub=void 0;const event_emitter_1=require("module$node_modules$golden_layout$dist$cjs$ts$utils$event_emitter");class EventHub extends event_emitter_1.EventEmitter{constructor(_layoutManager){super();this._layoutManager=_layoutManager;this._childEventListener=childEvent=>this.onEventFromChild(childEvent);this._childEventSource=
this._dontPropagateToParent=null;this.on(event_emitter_1.EventEmitter.ALL_EVENT,(name,...args)=>this.onEventFromThis(name,args));globalThis.addEventListener(EventHub.ChildEventName,this._childEventListener,{passive:!0})}destroy(){globalThis.removeEventListener(EventHub.ChildEventName,this._childEventListener)}onEventFromParent(eventName,...args){this._dontPropagateToParent=eventName;this.emitUnknown(eventName,args)}onEventFromThis(eventName,...args){this._layoutManager.isSubWindow&&args[0]!==this._dontPropagateToParent&&
this.propagateToParent(eventName,args);this.propagateToChildren(eventName,args);this._childEventSource=this._dontPropagateToParent=null}onEventFromChild(event){event=event.detail;this._childEventSource=event.layoutManager;this.emitUnknown(event.eventName,event.args)}propagateToParent(eventName,args){eventName=new CustomEvent(EventHub.ChildEventName,{bubbles:!0,cancelable:!0,detail:{layoutManager:this._layoutManager,eventName,args}});globalThis.opener.dispatchEvent(eventName)}propagateToChildren(eventName,
args){for(let i=0;i<this._layoutManager.openPopouts.length;i++){const childGl=this._layoutManager.openPopouts[i].getGlInstance();if(childGl&&childGl!==this._childEventSource)childGl.eventHub.onEventFromParent(eventName,args)}}}exports.EventHub=EventHub;(EventHub=exports.EventHub||(exports.EventHub={})).ChildEventName="gl_child_event"}
//# sourceMappingURL=module$node_modules$golden_layout$dist$cjs$ts$utils$event_hub.js.map
