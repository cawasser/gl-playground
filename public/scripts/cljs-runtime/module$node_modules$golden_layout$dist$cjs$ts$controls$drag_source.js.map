{
"version":3,
"file":"module$node_modules$golden_layout$dist$cjs$ts$controls$drag_source.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/golden-layout/dist/cjs/ts/controls/drag-source.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$golden_layout$dist$cjs$ts$controls$drag_source\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DragSource = void 0;\nconst config_1 = require(\"../config/config\");\nconst internal_error_1 = require(\"../errors/internal-error\");\nconst component_item_1 = require(\"../items/component-item\");\nconst ground_item_1 = require(\"../items/ground-item\");\nconst drag_listener_1 = require(\"../utils/drag-listener\");\nconst drag_proxy_1 = require(\"./drag-proxy\");\n/**\n * Allows for any DOM item to create a component on drag\n * start to be dragged into the Layout\n * @public\n */\nclass DragSource {\n    /** @internal */\n    constructor(\n    /** @internal */\n    _layoutManager, \n    /** @internal */\n    _element, \n    /** @internal */\n    _extraAllowableChildTargets, \n    /** @internal */\n    _componentTypeOrFtn, \n    /** @internal */\n    _componentState, \n    /** @internal */\n    _title) {\n        this._layoutManager = _layoutManager;\n        this._element = _element;\n        this._extraAllowableChildTargets = _extraAllowableChildTargets;\n        this._componentTypeOrFtn = _componentTypeOrFtn;\n        this._componentState = _componentState;\n        this._title = _title;\n        this._dragListener = null;\n        // Need to review dummyGroundContainer\n        // Should this part of a fragment or template?\n        // Does this need to be regenerated with each drag operation?\n        this._dummyGroundContainer = document.createElement('div');\n        this._dummyGroundContentItem = new ground_item_1.GroundItem(this._layoutManager, this._layoutManager.layoutConfig.root, this._dummyGroundContainer);\n        this.createDragListener();\n    }\n    /**\n     * Disposes of the drag listeners so the drag source is not usable any more.\n     * @internal\n     */\n    destroy() {\n        this.removeDragListener();\n    }\n    /**\n     * Called initially and after every drag\n     * @internal\n     */\n    createDragListener() {\n        this.removeDragListener();\n        this._dragListener = new drag_listener_1.DragListener(this._element, this._extraAllowableChildTargets);\n        this._dragListener.on('dragStart', (x, y) => this.onDragStart(x, y));\n        this._dragListener.on('dragStop', () => this.onDragStop());\n    }\n    /**\n     * Callback for the DragListener's dragStart event\n     *\n     * @param x - The x position of the mouse on dragStart\n     * @param y - The x position of the mouse on dragStart\n     * @internal\n     */\n    onDragStart(x, y) {\n        let componentType;\n        let componentState;\n        let title;\n        if (typeof this._componentTypeOrFtn === \"function\") {\n            const dragSourceItemConfig = this._componentTypeOrFtn();\n            componentType = dragSourceItemConfig.type;\n            componentState = dragSourceItemConfig.state;\n            title = dragSourceItemConfig.title;\n        }\n        else {\n            componentType = this._componentTypeOrFtn;\n            componentState = this._componentState;\n            title = this._title;\n        }\n        // Create a dummy ContentItem only for drag purposes\n        // All ContentItems (except for GroundItem) need a parent.  When dragging, the parent is not used.\n        // Instead of allowing null parents (as Javascript version did), use a temporary dummy GroundItem parent and add ContentItem to that\n        // If this does not work, need to create alternative GroundItem class\n        const itemConfig = {\n            type: 'component',\n            componentType,\n            componentState,\n            title,\n        };\n        const resolvedItemConfig = config_1.ComponentItemConfig.resolve(itemConfig);\n        const componentItem = new component_item_1.ComponentItem(this._layoutManager, resolvedItemConfig, this._dummyGroundContentItem);\n        this._dummyGroundContentItem.contentItems.push(componentItem);\n        if (this._dragListener === null) {\n            throw new internal_error_1.UnexpectedNullError('DSODSD66746');\n        }\n        else {\n            const dragProxy = new drag_proxy_1.DragProxy(x, y, this._dragListener, this._layoutManager, componentItem, this._dummyGroundContentItem);\n            const transitionIndicator = this._layoutManager.transitionIndicator;\n            if (transitionIndicator === null) {\n                throw new internal_error_1.UnexpectedNullError('DSODST66746');\n            }\n            else {\n                transitionIndicator.transitionElements(this._element, dragProxy.element);\n            }\n        }\n    }\n    /** @internal */\n    onDragStop() {\n        // if (this._dummyGroundContentItem === undefined) {\n        //     throw new UnexpectedUndefinedError('DSODSDRU08116');\n        // } else {\n        //     this._dummyGroundContentItem._$destroy\n        //     this._dummyGroundContentItem = undefined;\n        // }\n        this.createDragListener();\n    }\n    /**\n     * Called after every drag and when the drag source is being disposed of.\n     * @internal\n     */\n    removeDragListener() {\n        if (this._dragListener !== null) {\n            this._dragListener.destroy();\n            this._dragListener = null;\n        }\n    }\n}\nexports.DragSource = DragSource;\n//# sourceMappingURL=drag-source.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","DragSource","config_1","internal_error_1","component_item_1","ground_item_1","drag_listener_1","drag_proxy_1","_layoutManager","_element","_extraAllowableChildTargets","_componentTypeOrFtn","_componentState","_title","_dragListener","_dummyGroundContainer","document","createElement","_dummyGroundContentItem","GroundItem","layoutConfig","root","createDragListener","removeDragListener","DragListener","on","x","y","onDragStart","onDragStop","componentState","dragSourceItemConfig","componentType","type","state","title","resolvedItemConfig","ComponentItemConfig","resolve","itemConfig","componentItem","ComponentItem","contentItems","push","UnexpectedNullError","dragProxy","DragProxy","transitionIndicator","transitionElements","element","destroy"]
}
